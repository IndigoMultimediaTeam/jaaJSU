!function(e,t){"use strict";let n;"function"==typeof define&&define.amd?define([],function(){return t(window,document)}):"undefined"!=typeof exports?module.exports=t(window,document):(n=t(window,document),Object.keys(n).forEach(e=>window[e]=n[e]),window.jaaJSU_version="0.4.1")}(0,function(e,t){"use strict";var n={};function r(e,t){n[t]=e}function o(e){return(t,n,r)=>o=>e(o,t,n,r)}function i(e,t,n,r){const o=e.length;for(let i=0,u=o-1;i<o;i++,u--)r=t.call(n,{item:e[i],last:!u,key:i,share:r});return r}function u(e,t,n,r){for(let o=0;o<e.length;o++)r=t.call(n,{item:e[o],key:o,share:r});return r}function c(e){throw new Error("Missing parameter: "+e)}r({arrayIndex:function(e,t,n){return(n+e+t%n)%n},each:i,eachFun:o(i),eachDynamic:u,eachDynamicFun:o(u),getLast:function(e){return e[e.length-1]},partition:function(e){return{head:function(){const[t,...n]=e;return[t,n]},tail:function(){let t=[...e];const n=t.pop();return[t,n]},onIndex:function(t){let n=[...e];return[n.splice(0,t),n]},byCondition:function(t){let n=[[],[]];return i(e,({item:e,key:r})=>n[+!Boolean(t(e,r))].push(e)),n}}},removeItem:function(e,t){let n=[...e];for(var r=0;r<n.length;)n[r]===t?n.splice(r,1):r++;return n},sortRandom:function(){return Math.random()-.5}},"$array");var a={serialize:function(){const e=e=>t=>e().then((e=>Array.prototype.concat.bind(e))(t)),t=(t,n)=>t.then(e(n));return e=>e.reduce(t,Promise.resolve([]))}(),iterate_:function(e){return new Promise(function(t,n){let r=Promise.resolve();for(let t=0,n=e.length;t<n;t++)r=r.then(e[t]);r.then(t).catch(n)})},CANCEL:Symbol("$async.CANCEL"),iterateMixed_:function(...e){return new Promise(function(t,n){return function n(r){if(!e.length)return t(r);const o=e.shift(),i="function"==typeof o?o(r):o;if(null!==i){if(i===a.CANCEL)return;if(i.then)return i.then(n)}return Promise.resolve(n(i))}()})},sequention_:function(...e){return function(...t){return new Promise(function(n,r){let o=Promise.resolve(...t);for(let t=0,n=e.length;t<n;t++)o=o.then(e[t]);o.then(n).catch(r)})}},each_:function(...e){return function(...t){return Promise.all(e.map(e=>e(...t)))}}};r(a,"$async");var s={ready_:function(...e){return new Promise(function(n){"loading"!==t.readyState?n(...e):t.addEventListener("readystatechange",function r(){"loading"!==t.readyState&&(t.removeEventListener("readystatechange",r),n(...e))})})},elementReady_:function(e,n=t){const r=Object.keys(e)[0],o=e[r];return new Promise(function(e,t){requestAnimationFrame(function t(){const i=n[r](o);i?e(i):requestAnimationFrame(t)})})},empty:function(e){let t=e.childNodes.length;for(;t--;)e.removeChild(e.lastChild)},insertAfter:function(e,t){const{parentNode:n,nextSibling:r}=t;r?n.insertBefore(e,r):n.appendChild(e)},removeElements:function(e,t,n){t=t||0,n=n||e.length;let r=[],o=0;for(let i=t;i<n;i++)r[o++]=e[i];for(let e=0,t=r.length;e<t;e++)r[e].remove()},replace:function(e,t){s.insertAfter(t,e),e.remove()},toggleAttribute:function(e,t,n,r){const o=e.getAttribute(t)===n?r:n;return e.setAttribute(t,o),o},toggleDataset:function(e,t,n,r){return e.dataset[t]=e.dataset[t]===n?r:n},each:i,eachFun:o(i),eachDynamic:u,eachDynamicFun:o(u)};const l=function(){const e={add:function(){return e},component:function(){return e},mount:t,update:n,share:{mount:t,update:n,destroy:function(){return null},isStatic:function(){return!0}}};return e;function t(e,t="childLast"){switch(t){case"replace":e.remove();break;case"replaceContent":s.empty(e)}return null}function n(){return!0}}();function f(e,t,n,r){const o=Object.keys(e);for(let i,u=0,c=o.length;u<c;u++)i=o[u],r=t.call(n,{item:e[i],key:i,index:u,share:r});return r}function d(e,t,n){let r;for(let o in e)e.hasOwnProperty(o)&&(r=t.call(n,{item:e[o],key:o,target:e,share:r}));return r}s.component=function(e,n,{mapUpdate:r}={}){if(void 0===e||"EMPTY"===e.toUpperCase())return l;let o=null;const i=t.createDocumentFragment();let u,c=[],a=0,f=[];const d={add:h,addText:function(e,n=0){p(n);const r=t.createTextNode(e);let o=c[a]=m().appendChild(r);return a+=1,Object.assign({oninit:function(e){return e(o),d}},d)},component:function({mount:e,update:t,isStatic:n},r=0){p(r),c[a]=e(m()),n()||(o||(o=y()),o.registerComponent(t));return a+=1,d},setShift:function(e=0){let t;e?f.splice(f.length+1+e):(t=f.pop(),f.push(t,t))},mount:g,update:b,share:{mount:g,update:b,destroy:function(){return u.remove(),null},isStatic:function(){return!o}}};return h(e,n);function h(e,n,r=0){p(r),n=n||{};const l=t.createElement(e);a?c[a]=m().appendChild(l):u=c[0]=i.appendChild(l);let f=c[a];return a+=1,s.assign(f,n),Object.assign({getReference:()=>f,oninit:function(e){return e(f),d},onupdate:function(e,t){return!!e&&(o||(o=y()),s.assign(f,o.register(f,e,t)),d)}},d)}function g(e,t="childLast"){switch(t){case"replace":s.replace(e,i);break;case"replaceContent":s.empty(e),e.appendChild(i);break;case"before":e.parentNode.insertBefore(i,e);break;case"after":s.insertAfter(i,e);break;default:"childFirst"===t&&e.childNodes.length?e.insertBefore(i,e.childNodes[0]):e.appendChild(i)}return u}function p(e){e?(f.splice(f.length+1+e),f[f.length-1]=a):f.push(a)}function m(){return c[f[f.length-2]]||i}function y(){const e={},t=[],n=new Map,o=new Map,i=new Map;let u=0;return{register:function(t,r,c){Object.assign(e,r);const a=u++;n.set(a,t);const s=Object.keys(r);for(let e,t=0,n=s.length;t<n;t++)e=s[t],i.has(e)?i.set(e,[...i.get(e),a]):i.set(e,[a]);return o.set(a,c),c.call(t,r)||{}},registerComponent:function(e){-1===t.indexOf(e)&&t.push(e)},update:function(u){const a="function"==typeof r?r(u):u;let l=!1;for(let e=0,n=t.length;e<n;e++)t[e](a)&&!l&&(l=!0);if(!i.size)return l;const f=Object.keys(a).filter(t=>i.has(t)&&e[t]!==a[t]),d=f.length;if(!d)return l;Object.assign(e,a);const h=[];for(let e,t=0;t<d;t++)for(let n,r=0,o=(e=i.get(f[t])).length;r<o;r++)n=e[r],-1===h.indexOf(n)&&h.push(n);for(let e=0,t=h.length;e<t;e++)g(h[e]);return!0;function g(t){const r=o.get(t).call(n.get(t),e)||{},i=n.get(t);if(null===i.parentNode)return c(t,f);s.assign(i,r)}},unregister:c};function c(e,t){o.delete(e),n.delete(e);for(let e,n,o=0,u=t.length;o<u;o++)e=t[o],1===(n=i.get(e)).length?i.delete(e):i.set(e,n.filter(r));function r(t){return t!==e}}}function b(e){return!!o&&o.update(e)}},s.add=function(e,n){let r=t.createDocumentFragment(),o=[],i=[];for(var u=0,c=n.length;u<c;u++)o[u]=t.createElement(n[u][0]),u?void 0!==n[u][1].$?(i[u]=i[n[u][1].$].appendChild(o[u]),delete n[u][1].$):i[u]=i[u-1].appendChild(o[u]):i[u]=r.appendChild(o[u]),s.assign(i[u],n[u][1]);if(e.appendChild(r),u)return i[0]},s.assign=function(e,t){const n=Object.keys(t);for(let r,o,i=0,u=n.length;i<u;i++)if(void 0!==(o=t[r=n[i]]))switch(r){case"style":if("string"==typeof o)e.setAttribute("style",o);else for(let t,n=0,r=Object.keys(o),i=r.length;n<i;n++)t=r[n],e.style.setProperty(t,o[t]);break;case"style_vars":for(let t,n=0,r=Object.keys(o),i=r.length;n<i;n++)t=r[n],e.style.setProperty(t,o[t]);break;case"classList":if(!e[r].toggle)break;for(let t,n,r=0,i=Object.keys(o),u=i.length;r<u;r++)-1===(n=o[t=i[r]])?e.classList.toggle(t):e.classList.toggle(t,Boolean(n));break;case"dataset":for(let t,n=0,r=Object.keys(o),i=r.length;n<i;n++)t=r[n],e.dataset[t]=o[t];break;case"href":e.setAttribute(r,o);break;default:e[r]=o}else Reflect.has(e,r)&&Reflect.deleteProperty(e,r)},s.forceRedraw=function(e=t.body){let n=e.style.display;e.style.display="none";e.offsetHeight;e.style.display=n},r(s,"$dom"),r({component:function(e){let t=[];const n={pipe:function(e){return t.push(e),n},run:function(n){return t.reduce((e,t)=>t(e),"function"==typeof e?e(n):n)}};return n},conditionalCall:function(e,t){return!!e&&("function"==typeof t?t(e):e)},constant:e=>()=>e,each:function(...e){return function(t){for(let n=0,r=e.length;n<r;n++)e[n](t)}},identity:e=>e,ifElse:function(e,t=(e=>e),n=Boolean){return function(...r){return n(...r)?e(...r):"function"==typeof t?t(...r):void 0}},partial:function(e,...t){return function(...n){return e.call(this,...t,...n)}},schedule:function(t,{context:n=e,delay:r=150}={}){h.timeoutAnimationFrame(function e(){t.shift().call(n),t.length>0&&h.timeoutAnimationFrame(e,r)},r)},sequention:function(...e){return function(t){let n=t;for(let t=0,r=e.length;t<r;t++)n=e[t](n);return n}}},"$function"),r({each:f,eachFun:o(f),eachDynamic:d,eachDynamicFun:o(d),fromArray:function(e,t=((e,t,n)=>e[""+n]=t),n={}){return e.reduce((e,n,r)=>(t(e,n,r),e),n)},hasProp:function(e=c("obj"),t=c("prop")){return Object.prototype.hasOwnProperty.call(e,t)},immutable_keys:function(e={}){return new Proxy(Object.keys(e).reduce(function(t,n){return t[n]=e[n],t},{}),{get(e,t){if(-1!==Object.keys(e).indexOf(t))return e[t];switch(t){case"set":return function(e){return function(t,n){return-1===Object.keys(e).indexOf(t)&&(e[t]=n,!0)}}(e);case"keys":return function(){return Object.keys(e)};default:return}},set:()=>!1})},method:(e,...t)=>n=>n[e](...t),methodFrom:e=>t=>(...n)=>e[t](...n),pluck:e=>t=>t[e],pluckFrom:e=>t=>e[t],setter:(e,t)=>n=>(n[e]=t,n),setterFrom:e=>t=>n=>(e[t]=n,e)},"$object");var h={debounce:function(e,t,n){var r,o,i,u;return t||(t=150),function(){i=this,o=[].slice.call(arguments,0),u=new Date;let c=function(){let a=new Date-u;a<t?r=setTimeout(c,t-a):(r=null,n||e.apply(i,o))};n&&!r&&e.apply(i,o),r||(r=setTimeout(c,t))}},trottle:function(e,t){t||(t=1);var n,r,o,i=0;function u(){i===t?(i=0,cancelAnimationFrame(o)):o=requestAnimationFrame(u)}return function(){r=this,n=[].slice.call(arguments,0),i||(i++,e.apply(r,n),o=requestAnimationFrame(u))}},poll_:function(e,t,n){var r=Number(new Date)+(t||2e3);n=n||100;var o=function(t,i){var u=e();u?t(u):Number(new Date)<r?setTimeout(o,n,t,i):i(new Error("timed out for "+e+": "+arguments))};return new Promise(o)},once:function(e,t){var n;return function(){return e&&(n=e.apply(t||this,arguments),e=null),n}},timeoutAnimationFrame:function(e,t=150){setTimeout(requestAnimationFrame.bind(null,e),t)}};r(h,"$optimiziers"),r({clearSpaces:function(e){return"string"==typeof e&&e.replace(/\s+/g,"")},countChars:function(e){if("string"!=typeof e)return!1;const t=e.length;let n,r=0;for(let o=0;o<t;o++)r+=94==(n=e.charCodeAt(o))||n>127?2:1;return r},generateUnique:()=>(new Date).getTime()+"_"+(performance.now().toString(36)+Math.random().toString(36)).replace(/\./g,(""+Math.random()).charAt(0)).substr(0,10),getSubstring:function(e,t,n=0){return n<0&&(n=0),e.length>t+n&&(e=e.substring(n,t)),e},letterInc:function(e,t,n){void 0===n&&(n=e.length-1);let r,o,i=e.charCodeAt(n);return t||(t=1),i?i<65?i=65:i>90&&i<97?i=97:i>122&&(i=122):i=0,r=i+t,(o=!(0===i||r<65)&&(!(r>90&&r<97)&&(!(r>122)&&String.fromCharCode(r))))&&(e=e.substr(0,n)+o+e.substr(n+1)),e},escapeHTML:function(e){var t={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"};return e.replace(/[<>&"]/g,e=>t[e])},clearHTML:function(e){var n=t.createElement("div");return n.innerHTML=e,n.textContent},containsRepeatingChars:function(e,t=2){if("string"!=typeof e)return!1;let n=new RegExp("(\\S)(\\1{"+t+",})","g");return e=e.replace(/\s+/g,"_"),n.test(e)},containsSequential:function(e,t){if("string"!=typeof e)return!1;t=t||2;let n=!1,r=+e[0],o=1;for(let i=1,u=e.length;i<u;i++)+e[i]-o!==r||n?n||(r=+e[i],o=1):++o>t&&(n=!0);if(!n){r=String.fromCharCode(e.charCodeAt(0)),o=1;for(let i=1,u=e.length;i<u;i++)this.letterInc(String.fromCharCode(e.charCodeAt(i)),-o)!==r||n?n||(r=String.fromCharCode(e.charCodeAt(i)),o=1):++o>t&&(n=!0)}return n},isEmail:function(e){let t=e.split("@");if(2!==t.length)return!1;if(3!==(t=[t[0],...t[1].split(".")]).length)return!1;const n=!/(#|\?|!|\\|\/|\||\.\.)/i.test(t[0]);return n&&t.reduce((e,t)=>e&&t.length>1&&!/\s/.test(t),n)},isFilled:function(e){return"string"==typeof e&&(!!e.trim()&&e)},template:function(e,t=Object.keys){if("string"!=typeof e)throw Error("Type of 'str' is not string!");const n=/\$\{([\s]*[^;\s\{]+[\s]*)\}/g,r=Object.freeze({partial:function(t={}){return e=o(t),r},partialRest:function(...t){let o=0,i=t.length;return e=e.replace(n,function(e){return o++<i?t[o-1]:e}),r},setKeysFilter:function(e){return t=e,r},isSubstituted:function(){return!n.test(e)},execute:o});return r;function o(r={}){const o=t(r);return o.length?e.replace(n,function(e,t){return-1!==o.indexOf(t)?r[t]:e}):e}},toCamelCase:function(e){if("string"!=typeof e)throw Error("Type of 'str' is not string!");if(!e)return e;let[t,...n]=e.split("");return[t.toUpperCase(),...n].join("")}},"$string");var g={getOrdinalSuffix:function(e){if("number"!=typeof e&&(e=parseInt(e)),isNaN(e))return!1;let t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])},getMonthName:function(e,t){if("number"!=typeof e&&(e=parseInt(e)),isNaN(e))return!1;let n=["December","January","February","March","April","May","June","July","August","September","October","November"][e%12];return t&&(-1===t&&(t=3,4===n.length&&(t=4)),n=n.substring(0,t)),n},getTimeStamp:function(e){let t=e?new Date(e):new Date;return t.getFullYear()+"-"+this.double(t.getMonth()+1)+"-"+this.double(t.getDate())+" "+this.double(t.getHours())+":"+this.double(t.getMinutes())+":"+this.double(t.getSeconds())},getDateStamp:function(e){let t=e?new Date(e):new Date;return t.getFullYear()+"-"+this.double(t.getMonth()+1)+"-"+this.double(t.getDate())},getTimeString:function(e){let t=e?new Date(e):new Date;return this.double(t.getHours())+":"+this.double(t.getMinutes())+":"+this.double(t.getSeconds())},getDiff:function(e,t){var n;switch(e.length){case 19:n=g.getTimeStamp(t);break;case 10:n=g.getDateStamp(t);break;case 8:n=t?g.getTimeString(t):g.getTimeStamp(t),e=g.getDateStamp()+" "+e;break;default:return console.error("Unknown error!"),0}return new Date(e).getTime()-new Date(n).getTime()},double:function(e){return 1==(e=e.toString()).length?"0"+e:2==e.length?e:"00"}};return r(g,"$time"),n});