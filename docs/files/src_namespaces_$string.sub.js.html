<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Documentation: jaaJSU@0.5.1</title>
    <link rel="stylesheet" href="../assets/from_yahhoapis/cssgrids-min.css">
<link rel="stylesheet" href="http://yui.yahooapis.com/3.8.0pr2/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <script src="../assets/from_yahhoapis/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            <h1><a href="../index.html"><img src="../assets/css/logo.png" width="117" height="52">jaaJSU</a>: src\namespaces\$string.sub.js</h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.5.1</em>
        </div>
    </div>
    <div class="yui3-g">

        <div id="sidebar" class="yui3-u">
            <div id="modules" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Modules</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="../modules/jaaJSU.{global}.html">jaaJSU.{global}</a>
                            </li>
                    </ul>
                </div>
            </div>
            
            <div id="classes" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Classes</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="../classes/$array.{namespace}.html">$array.{namespace}</a></li>
                            <li><a href="../classes/$async.{namespace}.html">$async.{namespace}</a></li>
                            <li><a href="../classes/$dom.component.html">$dom.component</a></li>
                            <li><a href="../classes/$dom.component [cordova].html">$dom.component [cordova]</a></li>
                            <li><a href="../classes/$dom.{namespace}.html">$dom.{namespace}</a></li>
                            <li><a href="../classes/$function.{namespace}.html">$function.{namespace}</a></li>
                            <li><a href="../classes/$object.{namespace}.html">$object.{namespace}</a></li>
                            <li><a href="../classes/$optimizier.{namespace}.html">$optimizier.{namespace}</a></li>
                            <li><a href="../classes/$string.{namespace}.html">$string.{namespace}</a></li>
                            <li><a href="../classes/$time.{namespace}.html">$time.{namespace}</a></li>
                    </ul>
                </div>
            </div>
            
            <div id="elements" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Elements</h2>
                </div>
                <div class="bd">
                    <ul>
                    </ul>
                </div>
            </div>
            
            
            
            
            
            <div id="fileTree" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Files</h2>
                </div>
                <div class="bd">
                    <ul><li>src\jaaJSU - $time.sub.js/<ul></ul></li><li>src\jaaJSU.js/<ul></ul></li><li>src\namespaces\$array.sub.js/<ul></ul></li><li>src\namespaces\$async.sub.js/<ul></ul></li><li>src\namespaces\$dom.sub.js/<ul></ul></li><li>src\namespaces\$function.sub.js/<ul></ul></li><li>src\namespaces\$object.sub.js/<ul></ul></li><li>src\namespaces\$optimizier.sub.js/<ul></ul></li><li>src\namespaces\$string.sub.js/<ul></ul></li><li>src\special_functions\$dom_add_helpers_cordova.sub.js/<ul></ul></li><li>src\special_functions\$dom_add_helpers_standalone.sub.js/<ul></ul></li><li>src\special_functions\$dom_forceRedraw_cordova.sub.js/<ul></ul></li><li>src\special_functions\$dom_forceRedraw_standalone.sub.js/<ul></ul></li><li>src\special_functions\$time_cordova.sub.js/<ul></ul></li></ul>
                </div>
            </div>
            
        </div>

        <div id="main" class="yui3-u">
            <div class="content"><h4>src\namespaces\$string.sub.js</h4>

<pre class="code prettyprint linenums">
/* jshint esversion: 6,-W097, -W040, browser: true, expr: true, undef: true *///gulp.remove.line
/**
 * This NAMESPACE provides features for strings.
 * @class $string.{namespace}
 * @static
 */
var $string= {
    /**
     * Clear spaces (&#x60;\s+&#x60;) in &#x60;str&#x60;
     * @method clearSpaces
     * @param {String} str
     * @return {String}
     *  * Cleaned &#x60;str&#x60;
     */
    clearSpaces: function(str) {
        if(typeof str !== &quot;string&quot;) return false;
        return str.replace(/\s+/g, &quot;&quot;);
    },
    /**
     * @method countChars
     * @param {String} str
     * @return {Number}
     *  * Number of chars in &#x60;str&#x60;
     */
    countChars: function(str){
        if(typeof str !== &quot;string&quot;) return false;
        const str_length= str.length;
        let counter= 0;
        let char_code;
        for(let i=0; i&lt;str_length; i++){
            char_code= str.charCodeAt(i);
            counter+= (char_code==94 || char_code&gt;127) ? 2 : 1;
        }
        return counter;
    },
    /**
     * @method generateUnique
     * @return {String}
     *  * An unique string
     */
    generateUnique(){
        return (new Date()).getTime()+&quot;_&quot;+(performance.now().toString(36)+Math.random().toString(36)).replace(/\./g, (&quot;&quot;+Math.random()).charAt(0)).substr(0, 10);
    },
    /**
     * Wrapper around &#x60;*.substring(*,*)&#x60;
     * @method getSubstring
     * @param {String} str
     * @param {Number} len
     *  * How many chars
     * @param {Number} [start=0]
     * @return {String}
     *  * Substring of &#x60;str&#x60;
     */
    getSubstring: function(str, len, start= 0) {
        if(start &lt; 0) start= 0;
        if (str.length &gt; len+start) {str = str.substring(start, len);}
        return str;
    },
    /* 
    * FCE pro &quot;pricitani&quot; pismen ve stringu
    * ...vraci nasledujici pismenko, resp. pismenko posunute o inc
    * parametry:
    *  tS str= [a-zA-Z] alespon na pozici pos
    *  tN inc ~1= cislo posunu - i zaporne
    *  tN pos ~posledni pismenko= index pozice
    * vraci:
    *  tS string bud puvodni, nebo &quot;posunuty&quot;
    *  */
   /**
    * @method letterInc
    * @param {String} str
    *  * [a-zA-z] at least on position &#x60;pos&#x60;
    * @param {Number} [inc=1]
    *  * &#x60;inc=0&#x60; is convert to &#x60;inc=1&#x60;
    * @param {Number} [pos=str.length-1]
    * @return {String}
    *  * New string with &quot;highter&quot; letter on position &#x60;pos&#x60;
    * @example
    *     console.log($string.letterInc(&quot;125&quot;));//=&quot;126&quot;
    *     console.log($string.letterInc(&quot;125a&quot;));//=&quot;125b&quot;
    *     console.log($string.letterInc(&quot;HH&quot;));//=&quot;HI&quot;
    *     console.log($string.letterInc(&quot;Hg&quot;, 2, 1));//=&quot;Hi&quot;
    */
    letterInc: function(str, inc, pos){
        if(typeof pos === &quot;undefined&quot;) pos= str.length-1;
        let ch= str.charCodeAt(pos);
        inc || (inc= 1);
        let ch_out, output;
        
        if(!ch) ch=0;
        else if(ch&lt;65) ch=65;
        else if(ch&gt;90&amp;&amp;ch&lt;97) ch=97;
        else if(ch&gt;122) ch=122;
        ch_out= ch+inc;
        if(ch===0||ch_out&lt;65) output=false;
        else if(ch_out&gt;90&amp;&amp;ch_out&lt;97) output=false;
        else if(ch_out&gt;122) output=false;
        else output= String.fromCharCode(ch_out);
        if(output) str= str.substr(0,pos) + output + str.substr(pos+1);
        return str;
    },
    /**
     * Escapes &quot;&lt;&quot;, &quot;&gt;&quot;, &quot;&amp;&quot;, &#x27;&quot;&#x27;, &quot;&#x27;&quot;
     * @method escapeHTML
     * @param {String} str
     * @return {String}
     *  * Escaped text
     */
    escapeHTML: function(str){
        var replacements= {&quot;&lt;&quot;: &quot;&amp;lt;&quot;, &quot;&gt;&quot;: &quot;&amp;gt;&quot;,&quot;&amp;&quot;: &quot;&amp;amp;&quot;, &quot;\&quot;&quot;: &quot;&amp;quot;&quot;};
        return str.replace(/[&lt;&gt;&amp;&quot;]/g,(character)=&gt;replacements[character]);
    },
    /**
     * Clear tags from &#x60;str&#x60;
     * @method clearHTML
     * @param {String} str
     * @return {String}
     *  * Text without HTML tags
     */
    clearHTML: function(str){
        var div= document.createElement(&#x27;div&#x27;);
        div.innerHTML= str;
        return div.textContent;
    },
   /**
    * @method containsRepeatingChars
    * @param {String} str
    * @param {Number} [quantity=2]
    * @return {Boolean}
    * @example
    *     console.log($string.containsRepeatingChars(&quot;AAbcd&quot;));//=false
    *     console.log($string.containsRepeatingChars(&quot;AAAbcd&quot;));//=true
    *     console.log($string.containsRepeatingChars(&quot;AAAbcd&quot;, 3));//=false
    */
    containsRepeatingChars: function(str, quantity= 2){
        if(typeof str !== &quot;string&quot;) return false;
        let re= new RegExp(&quot;(\\S)(\\1{&quot;+quantity+&quot;,})&quot;,&quot;g&quot;);
        str= str.replace(/\s+/g,&quot;_&quot;);
        return re.test(str);
    },
   /**
    * @method containsSequential
    * @param {String} str
    * @param {Number} [quantity=2]
    * @return {Boolean}
    * @example
    *     console.log($string.containsSequential(&quot;ABccc&quot;));//=false
    *     console.log($string.containsSequential(&quot;ABCdd&quot;));//=true
    *     console.log($string.containsSequential(&quot;ABCdd&quot;, 3));//=false
    */
    containsSequential: function(str, quantity){
        if(typeof str !== &quot;string&quot;) return false;
        quantity= quantity || 2;
        let out= false;
        let seq= +str[0], repeat_count=1;
        for(let i= 1, i_length= str.length; i &lt; i_length; i++){
            if(+str[i]-repeat_count===seq&amp;&amp;!out){
                if(++repeat_count&gt;quantity){
                    out= true;
                }
            } else if(!out) {
                seq= +str[i];
                repeat_count= 1;
            }
        }
        if(!out){
            seq= String.fromCharCode(str.charCodeAt(0));
            repeat_count=1;
            for(let i= 1, i_length= str.length; i &lt; i_length; i++){
                if(this.letterInc(String.fromCharCode(str.charCodeAt(i)),-repeat_count)===seq&amp;&amp;!out){
                    if(++repeat_count&gt;quantity){
                        out= true;
                    }
                } else if(!out) {
                    seq= String.fromCharCode(str.charCodeAt(i));
                    repeat_count= 1;
                }
            }
        }
        return out;
    },
    /**
     * @method isEmail
     * @param {String} email_candidate
     * @return {Boolean}
     */
    isEmail: function(email_candidate){
        /*_@_*/ let e= email_candidate.split(&quot;@&quot;); if(e.length!==2) return false;
        /*_@_._*/ e= [e[0], ...e[1].split(&quot;.&quot;)]; if(e.length!==3) return false;
        const _e= !/(#|\?|!|\\|\/|\||\.\.)/i.test(e[0]); return _e &amp;&amp; e.reduce((r,o)=&gt;r&amp;&amp;o.length&gt;1&amp;&amp;!/\s/.test(o), _e);
    },
    /**
     * Wrapper around &#x60;*.trim()&#x60;
     * @method isFilled
     * @param {String} str
     * @return {String|Boolean}
     */
    isFilled: function(str){
        if(typeof str !== &quot;string&quot;) return false;
        return str.trim() ? str : false;
    },
    /**
     * Alternative to &#x60; &#x60;&#x60;&#x60;text with ${variable}&#x60;&#x60;&#x60; &#x60; (like &#x60;sprintf()&#x60;)
     * @method template
     * @param {String} str
     *  * Text which contains &#x60;${0}, ${var}, ...&#x60;
     * @return {Object}
     *  * &#x60;{execute, partial, isSubstituted}&#x60;
     *      * String **execute** ( [ &#x60;params_obj&#x60; ={}] )
     *          * [ &#x60;params_obj&#x60; ={}] {Object}
     *              * Keys corresponding to &#x60;${0}, ${var}, ...&#x60; in &#x60;str&#x60;
     *          * **Returns:** String
     *              * New string with replaced vars
     *      * String **partial** ( [ &#x60;params_obj&#x60; ={}] )
     *          * Replace inside &#x60;str&#x60;
     *          * [ &#x60;params_obj&#x60; ={}] {Object}
     *              * Keys corresponding to &#x60;${0}, ${var}, ...&#x60; in &#x60;str&#x60;
     *          * **Returns:** String
     *              * &#x60;str&#x60; with replaced vars
     *      * Boolean **isSubstituted** ()
     *          * **Returns:** Boolean
     *              * If &#x60;str&#x60; contains &#x60;${0}, ${var}, ...&#x60;
     * @example
     *     const test1= $string.template(&quot;${0}, ${1}, ${2}&quot;);
     *     console.log(test1.partial([&quot;A&quot;]));//=&quot;A, ${1}, ${2}&quot;
     *     console.log(test1.execute([&quot;B&quot;, &quot;C&quot;, &quot;D&quot;]));//=&quot;A, C, D&quot;
     *     console.log(test1.isSubstituted());//=false
     *     console.log(test1.partial([&quot;_&quot;, &quot;B&quot;, &quot;C&quot;]));//=&quot;A, B, C&quot;
     *     console.log(test1.isSubstituted());//=true
     * 
     *     const test2= $string.template(&quot;${test0}, ${test1}, ${test2}&quot;);
     *     console.log(test2.partial({test0: &quot;A&quot;}));//=&quot;A, ${test1}, ${test2}&quot;
     *     console.log(test2.execute({test0: &quot;B&quot;, test1: &quot;C&quot;, test2: &quot;D&quot;}));//=&quot;A, C, D&quot;
     *     console.log(test2.isSubstituted());//=false
     *     console.log(test2.partial({test0: &quot;_&quot;, test1: &quot;B&quot;, test2: &quot;C&quot;}));//=&quot;A, B, C&quot;
     *     console.log(test2.isSubstituted());//=true
     */
    template: function(str, keysFun= Object.keys){
        if(typeof str !== &quot;string&quot;) throw Error(&quot;Type of &#x27;str&#x27; is not string!&quot;);
        const reg= /\$\{([\s]*[^;\s\{]+[\s]*)\}/g;
        const _this= Object.freeze({ partial, partialRest, setKeysFilter, isSubstituted, execute });
        return _this;
        function partial(params_obj={}){ str= execute(params_obj); return _this; }
        function partialRest(...args){
            let i= 0, i_length= args.length;
            str= str.replace(reg, replaceHandler);
            return _this;
            function replaceHandler(all){ return i++&lt;i_length ? args[i-1] : all; }
        }
        function setKeysFilter(filterFun){ keysFun= filterFun; return _this; }
        function isSubstituted(){ return !reg.test(str); }
        function execute(params_obj={}){
            const params_obj_keys= keysFun(params_obj);
            if(!params_obj_keys.length) return str;
            return str.replace(reg, replaceHandler);
            function replaceHandler(all, match){ return params_obj_keys.indexOf(match)!==-1 ? params_obj[match] : all; }
        }
    },
    /**
     * Converts string to camel case format &quot;peter&quot;=&gt;&quot;Peter&quot;
     * @param {String} str
     * @returns {String}
     */
    toCamelCase: function(str){
        /* not string or empty */ if(typeof str !== &quot;string&quot;) throw Error(&quot;Type of &#x27;str&#x27; is not string!&quot;); if(!str) return str;
        let [ firstLetter, ...rest ]= str.split(&quot;&quot;);
        return ([ firstLetter.toUpperCase(), ...rest ]).join(&quot;&quot;);
    }
};
gulp_place(&quot;global.sub.js&quot;, &quot;file_once&quot;);/* global gulp_place, export_as */
export_as($string, gulp_place(&quot;namespaces.$string&quot;, &quot;variable&quot;));
</pre>

</div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>

</body>
</html>
