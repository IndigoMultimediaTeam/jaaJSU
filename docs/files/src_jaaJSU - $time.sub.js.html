<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Documentation: jaaJSU@0.5.2</title>
    <link rel="stylesheet" href="../assets/from_yahhoapis/cssgrids-min.css">
<link rel="stylesheet" href="http://yui.yahooapis.com/3.8.0pr2/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <script src="../assets/from_yahhoapis/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            <h1><a href="../index.html"><img src="../assets/css/logo.png" width="117" height="52">jaaJSU</a>: src\jaaJSU - $time.sub.js</h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.5.2</em>
        </div>
    </div>
    <div class="yui3-g">

        <div id="sidebar" class="yui3-u">
            <div id="modules" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Modules</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="../modules/jaaJSU.{global}.html">jaaJSU.{global}</a>
                            </li>
                    </ul>
                </div>
            </div>
            
            <div id="classes" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Classes</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="../classes/$array.{namespace}.html">$array.{namespace}</a></li>
                            <li><a href="../classes/$async.{namespace}.html">$async.{namespace}</a></li>
                            <li><a href="../classes/$dom.component.html">$dom.component</a></li>
                            <li><a href="../classes/$dom.component [cordova].html">$dom.component [cordova]</a></li>
                            <li><a href="../classes/$dom.{namespace}.html">$dom.{namespace}</a></li>
                            <li><a href="../classes/$function.{namespace}.html">$function.{namespace}</a></li>
                            <li><a href="../classes/$object.{namespace}.html">$object.{namespace}</a></li>
                            <li><a href="../classes/$optimizier.{namespace}.html">$optimizier.{namespace}</a></li>
                            <li><a href="../classes/$string.{namespace}.html">$string.{namespace}</a></li>
                            <li><a href="../classes/$time.{namespace}.html">$time.{namespace}</a></li>
                    </ul>
                </div>
            </div>
            
            <div id="elements" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Elements</h2>
                </div>
                <div class="bd">
                    <ul>
                    </ul>
                </div>
            </div>
            
            
            
            
            
            <div id="fileTree" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Files</h2>
                </div>
                <div class="bd">
                    <ul><li>src\jaaJSU - $time.sub.js/<ul></ul></li><li>src\jaaJSU.js/<ul></ul></li><li>src\namespaces\$array.sub.js/<ul></ul></li><li>src\namespaces\$async.sub.js/<ul></ul></li><li>src\namespaces\$dom.sub.js/<ul></ul></li><li>src\namespaces\$function.sub.js/<ul></ul></li><li>src\namespaces\$object.sub.js/<ul></ul></li><li>src\namespaces\$optimizier.sub.js/<ul></ul></li><li>src\namespaces\$string.sub.js/<ul></ul></li><li>src\special_functions\$dom_add_helpers_cordova.sub.js/<ul></ul></li><li>src\special_functions\$dom_add_helpers_standalone.sub.js/<ul></ul></li><li>src\special_functions\$dom_forceRedraw_cordova.sub.js/<ul></ul></li><li>src\special_functions\$dom_forceRedraw_standalone.sub.js/<ul></ul></li><li>src\special_functions\$time_cordova.sub.js/<ul></ul></li></ul>
                </div>
            </div>
            
        </div>

        <div id="main" class="yui3-u">
            <div class="content"><h4>src\jaaJSU - $time.sub.js</h4>

<pre class="code prettyprint linenums">
/* jshint esversion: 6,-W097, -W040, browser: true, expr: true, undef: true */
/* global gulp_place */
/**
 * This NAMESPACE provides features for date/time. Mainly, there are utilities using **Date** class and feature [&#x60;Date.prototype.toLocaleString&#x60;](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString).
 * @class $time.{namespace}
 * @static
 */
const $time= (function init(){/* version: &quot;0.3.0&quot; */
    const /* internal store */
    /**
     * Internal object holding predefined formating arguments for &#x60;$time.toLocaleString&#x60;. For example &#x60;format_objects.time==={ hour: &quot;2-digit&quot;, minute: &quot;2-digit&quot; }&#x60;.
     * 
     * Keys:
     *  - &#x60;time&#x60;: shows combination of 2-digits hour and minutes
     *  - &#x60;time_seconds&#x60;: shows combination of &#x60;time&#x60; and seconds
     *  - &#x60;date&#x60;: shows combination of 2-digits day, month and full year
     *  - &#x60;date_time&#x60;: shows combination of &#x60;time&#x60; and &#x60;date&#x60;
     *  - &#x60;date_time_seconds&#x60;: shows combination of &#x60;date_time&#x60; and &#x60;seconds&#x60;
     * @property {Object} format_objects
     * @private
     * @for $time.{namespace}
     */
        format_objects= (({ time, date, seconds })=&gt;({
            time, date,
            time_seconds: Object.assign(seconds, time),
            date_time: Object.assign({}, time, date),
            date_time_seconds: Object.assign({}, Object.assign(seconds, time), date)
        }))({
            time: { hour: &quot;2-digit&quot;, minute: &quot;2-digit&quot; },
            date: { year: &quot;numeric&quot;, day: &quot;2-digit&quot;, month: &quot;2-digit&quot; },
            seconds: { second: &quot;2-digit&quot; }
        }),
    /**
     * Internal object holding predefined formating arguments for &#x60;getFormatObject&#x60;. For example &#x60;format_arrays.YYYYMMDD=== [ [&quot;year&quot;, &quot;numeric&quot;], dash, [&quot;month&quot;, two_dig], dash, [&quot;day&quot;, two_dig] ]&#x60;.
     * 
     * Keys:
     *  - &#x60;YMD_2d&#x60;: shows **&quot;YYYY-MM-DD&quot;**
     *  - &#x60;YMDHms_2d&#x60;: shows **&quot;YYYY-MM-DD HH:mm:ss&quot;**
     *  - &#x60;Hms_2d&#x60;: shows **&quot;HH:mm:ss&quot;**
     * @property {Object} format_arrays
     * @private
     * @for $time.{namespace}
     */
        format_arrays= (({ dash, colon, space, two_dig })=&gt;({
            YMD_2d: [ [&quot;year&quot;, &quot;numeric&quot;], dash, [&quot;month&quot;, two_dig], dash, [&quot;day&quot;, two_dig] ],
            Hms_2d: [ [&quot;hour&quot;, two_dig, &quot;h23&quot;], colon, [&quot;minute&quot;, two_dig], colon, [&quot;second&quot;, two_dig] ],
            YMDHms_2d: [ [&quot;year&quot;, &quot;numeric&quot;], dash, [&quot;month&quot;, two_dig], dash, [&quot;day&quot;, two_dig], space, [&quot;hour&quot;, two_dig, &quot;h23&quot;], colon, [&quot;minute&quot;, two_dig], colon, [&quot;second&quot;, two_dig] ]
        }))({
            dash: [ &quot;text&quot;, &quot;-&quot; ],
            colon: [ &quot;text&quot;, &quot;:&quot; ],
            space: [ &quot;text&quot;, &quot; &quot; ],
            two_dig: &quot;2-digit&quot;
        }),
    /**
     * Internal helper array for &#x60;getOrdinalSuffix&#x60;.
     * @property {Array} ordinal_numbers
     * @private
     * @for $time.{namespace}
     */
        ordinal_numbers= [ &quot;th&quot;, &quot;st&quot;, &quot;nd&quot;, &quot;rd&quot; ];
    const /* validation functions */
    /**
     * Very simple test for &#x27;YYYY-MM-DD&#x27; pattern. Returns &#x60;true&#x60; if &#x60;date_string&#x60; includes **&#x60;-&#x60;**.
     * @method isDateString
     * @for $time.{namespace}
     * @private
     * @param {String|...String} date_string
     * @returns {Boolean}
     * @example
     *      isDateString(&quot;2019-05-06&quot;);//= true
     *      isDateString(&quot;06/05/2019&quot;);//= false !!!!
     */
        isDateString= date_string=&gt; date_string.indexOf(&quot;-&quot;)!==-1,
    /**
     * Very simple test for &#x27;T...&#x27; pattern. Returns &#x60;true&#x60; if &#x60;date_string&#x60; includes **&#x60;T&#x60;**.
     * @method isTimeString
     * @for $time.{namespace}
     * @private
     * @param {String|...String} date_string
     * @returns {Boolean}
     * @example
     *      isDateString(&quot;T12:00:00&quot;);//= true
     *      isDateString(&quot;12:00:00&quot;);//= false !!!
     *      isDateString(&quot;Twrong&quot;);//= true !!!!
     */
        isTimeString= date_string=&gt; date_string.indexOf(&quot;T&quot;)!==-1;
    let /* internal variables*/
        internal_locale= &quot;en-GB&quot;,
        internal_zone= &quot;&quot;;
    /**
     * This array stores all time zones names (eg. &#x27;Europe/Andorra&#x27;) supported by &#x60;{ timeZone: ... }&#x60; in second argument of &#x60;Date.prototype.toLocaleString&#x60;.
     * 
     * Original from [stackoverflow.com/a/54500197](https://stackoverflow.com/a/54500197).
     * @property {Array} ary_ianna_time_zones
     * @private
     * @for $time.{namespace}
     */
    const ary_ianna_time_zones= Object.freeze([
        &#x27;Africa/Abidjan&#x27;,
        &#x27;Africa/Accra&#x27;,
        &#x27;Africa/Algiers&#x27;,
        &#x27;Africa/Bissau&#x27;,
        &#x27;Africa/Cairo&#x27;,
        &#x27;Africa/Casablanca&#x27;,
        &#x27;Africa/Ceuta&#x27;,
        &#x27;Africa/El_Aaiun&#x27;,
        &#x27;Africa/Johannesburg&#x27;,
        &#x27;Africa/Juba&#x27;,
        &#x27;Africa/Khartoum&#x27;,
        &#x27;Africa/Lagos&#x27;,
        &#x27;Africa/Maputo&#x27;,
        &#x27;Africa/Monrovia&#x27;,
        &#x27;Africa/Nairobi&#x27;,
        &#x27;Africa/Ndjamena&#x27;,
        &#x27;Africa/Sao_Tome&#x27;,
        &#x27;Africa/Tripoli&#x27;,
        &#x27;Africa/Tunis&#x27;,
        &#x27;Africa/Windhoek&#x27;,
        &#x27;America/Adak&#x27;,
        &#x27;America/Anchorage&#x27;,
        &#x27;America/Araguaina&#x27;,
        &#x27;America/Argentina/Buenos_Aires&#x27;,
        &#x27;America/Argentina/Catamarca&#x27;,
        &#x27;America/Argentina/Cordoba&#x27;,
        &#x27;America/Argentina/Jujuy&#x27;,
        &#x27;America/Argentina/La_Rioja&#x27;,
        &#x27;America/Argentina/Mendoza&#x27;,
        &#x27;America/Argentina/Rio_Gallegos&#x27;,
        &#x27;America/Argentina/Salta&#x27;,
        &#x27;America/Argentina/San_Juan&#x27;,
        &#x27;America/Argentina/San_Luis&#x27;,
        &#x27;America/Argentina/Tucuman&#x27;,
        &#x27;America/Argentina/Ushuaia&#x27;,
        &#x27;America/Asuncion&#x27;,
        &#x27;America/Atikokan&#x27;,
        &#x27;America/Bahia_Banderas&#x27;,
        &#x27;America/Bahia&#x27;,
        &#x27;America/Barbados&#x27;,
        &#x27;America/Belem&#x27;,
        &#x27;America/Belize&#x27;,
        &#x27;America/Blanc-Sablon&#x27;,
        &#x27;America/Boa_Vista&#x27;,
        &#x27;America/Bogota&#x27;,
        &#x27;America/Boise&#x27;,
        &#x27;America/Cambridge_Bay&#x27;,
        &#x27;America/Campo_Grande&#x27;,
        &#x27;America/Cancun&#x27;,
        &#x27;America/Caracas&#x27;,
        &#x27;America/Cayenne&#x27;,
        &#x27;America/Costa_Rica&#x27;,
        &#x27;America/Creston&#x27;,
        &#x27;America/Cuiaba&#x27;,
        &#x27;America/Curacao&#x27;,
        &#x27;America/Danmarkshavn&#x27;,
        &#x27;America/Dawson_Creek&#x27;,
        &#x27;America/Dawson&#x27;,
        &#x27;America/Denver&#x27;,
        &#x27;America/Detroit&#x27;,
        &#x27;America/Edmonton&#x27;,
        &#x27;America/Eirunepe&#x27;,
        &#x27;America/El_Salvador&#x27;,
        &#x27;America/Fort_Nelson&#x27;,
        &#x27;America/Fortaleza&#x27;,
        &#x27;America/Glace_Bay&#x27;,
        &#x27;America/Godthab&#x27;,
        &#x27;America/Goose_Bay&#x27;,
        &#x27;America/Grand_Turk&#x27;,
        &#x27;America/Guatemala&#x27;,
        &#x27;America/Guayaquil&#x27;,
        &#x27;America/Guyana&#x27;,
        &#x27;America/Halifax&#x27;,
        &#x27;America/Havana&#x27;,
        &#x27;America/Hermosillo&#x27;,
        &#x27;America/Chicago&#x27;,
        &#x27;America/Chihuahua&#x27;,
        &#x27;America/Indiana/Indianapolis&#x27;,
        &#x27;America/Indiana/Knox&#x27;,
        &#x27;America/Indiana/Marengo&#x27;,
        &#x27;America/Indiana/Petersburg&#x27;,
        &#x27;America/Indiana/Tell_City&#x27;,
        &#x27;America/Indiana/Vevay&#x27;,
        &#x27;America/Indiana/Vincennes&#x27;,
        &#x27;America/Indiana/Winamac&#x27;,
        &#x27;America/Inuvik&#x27;,
        &#x27;America/Iqaluit&#x27;,
        &#x27;America/Jamaica&#x27;,
        &#x27;America/Juneau&#x27;,
        &#x27;America/Kentucky/Louisville&#x27;,
        &#x27;America/Kentucky/Monticello&#x27;,
        &#x27;America/La_Paz&#x27;,
        &#x27;America/Lima&#x27;,
        &#x27;America/Los_Angeles&#x27;,
        &#x27;America/Maceio&#x27;,
        &#x27;America/Managua&#x27;,
        &#x27;America/Manaus&#x27;,
        &#x27;America/Martinique&#x27;,
        &#x27;America/Matamoros&#x27;,
        &#x27;America/Mazatlan&#x27;,
        &#x27;America/Menominee&#x27;,
        &#x27;America/Merida&#x27;,
        &#x27;America/Metlakatla&#x27;,
        &#x27;America/Mexico_City&#x27;,
        &#x27;America/Miquelon&#x27;,
        &#x27;America/Moncton&#x27;,
        &#x27;America/Monterrey&#x27;,
        &#x27;America/Montevideo&#x27;,
        &#x27;America/Nassau&#x27;,
        &#x27;America/New_York&#x27;,
        &#x27;America/Nipigon&#x27;,
        &#x27;America/Nome&#x27;,
        &#x27;America/Noronha&#x27;,
        &#x27;America/North_Dakota/Beulah&#x27;,
        &#x27;America/North_Dakota/Center&#x27;,
        &#x27;America/North_Dakota/New_Salem&#x27;,
        &#x27;America/Ojinaga&#x27;,
        &#x27;America/Panama&#x27;,
        &#x27;America/Pangnirtung&#x27;,
        &#x27;America/Paramaribo&#x27;,
        &#x27;America/Phoenix&#x27;,
        &#x27;America/Port_of_Spain&#x27;,
        &#x27;America/Port-au-Prince&#x27;,
        &#x27;America/Porto_Velho&#x27;,
        &#x27;America/Puerto_Rico&#x27;,
        &#x27;America/Punta_Arenas&#x27;,
        &#x27;America/Rainy_River&#x27;,
        &#x27;America/Rankin_Inlet&#x27;,
        &#x27;America/Recife&#x27;,
        &#x27;America/Regina&#x27;,
        &#x27;America/Resolute&#x27;,
        &#x27;America/Rio_Branco&#x27;,
        &#x27;America/Santarem&#x27;,
        &#x27;America/Santiago&#x27;,
        &#x27;America/Santo_Domingo&#x27;,
        &#x27;America/Sao_Paulo&#x27;,
        &#x27;America/Scoresbysund&#x27;,
        &#x27;America/Sitka&#x27;,
        &#x27;America/St_Johns&#x27;,
        &#x27;America/Swift_Current&#x27;,
        &#x27;America/Tegucigalpa&#x27;,
        &#x27;America/Thule&#x27;,
        &#x27;America/Thunder_Bay&#x27;,
        &#x27;America/Tijuana&#x27;,
        &#x27;America/Toronto&#x27;,
        &#x27;America/Vancouver&#x27;,
        &#x27;America/Whitehorse&#x27;,
        &#x27;America/Winnipeg&#x27;,
        &#x27;America/Yakutat&#x27;,
        &#x27;America/Yellowknife&#x27;,
        &#x27;Antarctica/Casey&#x27;,
        &#x27;Antarctica/Davis&#x27;, //&#x27;Antarctica/DumontDUrville&#x27;, // https://bugs.chromium.org/p/chromium/issues/detail?id=928068
        &#x27;Antarctica/Macquarie&#x27;,
        &#x27;Antarctica/Mawson&#x27;,
        &#x27;Antarctica/Palmer&#x27;,
        &#x27;Antarctica/Rothera&#x27;,
        &#x27;Antarctica/Syowa&#x27;,
        &#x27;Antarctica/Troll&#x27;,
        &#x27;Antarctica/Vostok&#x27;,
        &#x27;Asia/Almaty&#x27;,
        &#x27;Asia/Amman&#x27;,
        &#x27;Asia/Anadyr&#x27;,
        &#x27;Asia/Aqtau&#x27;,
        &#x27;Asia/Aqtobe&#x27;,
        &#x27;Asia/Ashgabat&#x27;,
        &#x27;Asia/Atyrau&#x27;,
        &#x27;Asia/Baghdad&#x27;,
        &#x27;Asia/Baku&#x27;,
        &#x27;Asia/Bangkok&#x27;,
        &#x27;Asia/Barnaul&#x27;,
        &#x27;Asia/Beirut&#x27;,
        &#x27;Asia/Bishkek&#x27;,
        &#x27;Asia/Brunei&#x27;,
        &#x27;Asia/Colombo&#x27;,
        &#x27;Asia/Damascus&#x27;,
        &#x27;Asia/Dhaka&#x27;,
        &#x27;Asia/Dili&#x27;,
        &#x27;Asia/Dubai&#x27;,
        &#x27;Asia/Dushanbe&#x27;,
        &#x27;Asia/Famagusta&#x27;,
        &#x27;Asia/Gaza&#x27;,
        &#x27;Asia/Hebron&#x27;,
        &#x27;Asia/Ho_Chi_Minh&#x27;,
        &#x27;Asia/Hong_Kong&#x27;,
        &#x27;Asia/Hovd&#x27;,
        &#x27;Asia/Chita&#x27;,
        &#x27;Asia/Choibalsan&#x27;,
        &#x27;Asia/Irkutsk&#x27;,
        &#x27;Asia/Jakarta&#x27;,
        &#x27;Asia/Jayapura&#x27;,
        &#x27;Asia/Jerusalem&#x27;,
        &#x27;Asia/Kabul&#x27;,
        &#x27;Asia/Kamchatka&#x27;,
        &#x27;Asia/Karachi&#x27;,
        &#x27;Asia/Kathmandu&#x27;,
        &#x27;Asia/Khandyga&#x27;,
        &#x27;Asia/Kolkata&#x27;,
        &#x27;Asia/Krasnoyarsk&#x27;,
        &#x27;Asia/Kuala_Lumpur&#x27;,
        &#x27;Asia/Kuching&#x27;,
        &#x27;Asia/Macau&#x27;,
        &#x27;Asia/Magadan&#x27;,
        &#x27;Asia/Makassar&#x27;,
        &#x27;Asia/Manila&#x27;,
        &#x27;Asia/Nicosia&#x27;,
        &#x27;Asia/Novokuznetsk&#x27;,
        &#x27;Asia/Novosibirsk&#x27;,
        &#x27;Asia/Omsk&#x27;,
        &#x27;Asia/Oral&#x27;,
        &#x27;Asia/Pontianak&#x27;,
        &#x27;Asia/Pyongyang&#x27;,
        &#x27;Asia/Qatar&#x27;,
        &#x27;Asia/Qyzylorda&#x27;, //&#x27;Asia/Qostanay&#x27;, // https://bugs.chromium.org/p/chromium/issues/detail?id=928068
        &#x27;Asia/Riyadh&#x27;,
        &#x27;Asia/Sakhalin&#x27;,
        &#x27;Asia/Samarkand&#x27;,
        &#x27;Asia/Seoul&#x27;,
        &#x27;Asia/Shanghai&#x27;,
        &#x27;Asia/Singapore&#x27;,
        &#x27;Asia/Srednekolymsk&#x27;,
        &#x27;Asia/Taipei&#x27;,
        &#x27;Asia/Tashkent&#x27;,
        &#x27;Asia/Tbilisi&#x27;,
        &#x27;Asia/Tehran&#x27;,
        &#x27;Asia/Thimphu&#x27;,
        &#x27;Asia/Tokyo&#x27;,
        &#x27;Asia/Tomsk&#x27;,
        &#x27;Asia/Ulaanbaatar&#x27;,
        &#x27;Asia/Urumqi&#x27;,
        &#x27;Asia/Ust-Nera&#x27;,
        &#x27;Asia/Vladivostok&#x27;,
        &#x27;Asia/Yakutsk&#x27;,
        &#x27;Asia/Yangon&#x27;,
        &#x27;Asia/Yekaterinburg&#x27;,
        &#x27;Asia/Yerevan&#x27;,
        &#x27;Atlantic/Azores&#x27;,
        &#x27;Atlantic/Bermuda&#x27;,
        &#x27;Atlantic/Canary&#x27;,
        &#x27;Atlantic/Cape_Verde&#x27;,
        &#x27;Atlantic/Faroe&#x27;,
        &#x27;Atlantic/Madeira&#x27;,
        &#x27;Atlantic/Reykjavik&#x27;,
        &#x27;Atlantic/South_Georgia&#x27;,
        &#x27;Atlantic/Stanley&#x27;,
        &#x27;Australia/Adelaide&#x27;,
        &#x27;Australia/Brisbane&#x27;,
        &#x27;Australia/Broken_Hill&#x27;,
        &#x27;Australia/Currie&#x27;,
        &#x27;Australia/Darwin&#x27;,
        &#x27;Australia/Eucla&#x27;,
        &#x27;Australia/Hobart&#x27;,
        &#x27;Australia/Lindeman&#x27;,
        &#x27;Australia/Lord_Howe&#x27;,
        &#x27;Australia/Melbourne&#x27;,
        &#x27;Australia/Perth&#x27;,
        &#x27;Australia/Sydney&#x27;,
        &#x27;Europe/Amsterdam&#x27;,
        &#x27;Europe/Andorra&#x27;,
        &#x27;Europe/Astrakhan&#x27;,
        &#x27;Europe/Athens&#x27;,
        &#x27;Europe/Belgrade&#x27;,
        &#x27;Europe/Berlin&#x27;,
        &#x27;Europe/Brussels&#x27;,
        &#x27;Europe/Budapest&#x27;,
        &#x27;Europe/Bucharest&#x27;,
        &#x27;Europe/Copenhagen&#x27;,
        &#x27;Europe/Dublin&#x27;,
        &#x27;Europe/Gibraltar&#x27;,
        &#x27;Europe/Helsinki&#x27;,
        &#x27;Europe/Chisinau&#x27;,
        &#x27;Europe/Istanbul&#x27;,
        &#x27;Europe/Kaliningrad&#x27;,
        &#x27;Europe/Kiev&#x27;,
        &#x27;Europe/Kirov&#x27;,
        &#x27;Europe/Lisbon&#x27;,
        &#x27;Europe/London&#x27;,
        &#x27;Europe/Luxembourg&#x27;,
        &#x27;Europe/Madrid&#x27;,
        &#x27;Europe/Malta&#x27;,
        &#x27;Europe/Minsk&#x27;,
        &#x27;Europe/Monaco&#x27;,
        &#x27;Europe/Moscow&#x27;,
        &#x27;Europe/Oslo&#x27;,
        &#x27;Europe/Paris&#x27;,
        &#x27;Europe/Prague&#x27;,
        &#x27;Europe/Riga&#x27;,
        &#x27;Europe/Rome&#x27;,
        &#x27;Europe/Samara&#x27;,
        &#x27;Europe/Saratov&#x27;,
        &#x27;Europe/Simferopol&#x27;,
        &#x27;Europe/Sofia&#x27;,
        &#x27;Europe/Stockholm&#x27;,
        &#x27;Europe/Tallinn&#x27;,
        &#x27;Europe/Tirane&#x27;,
        &#x27;Europe/Ulyanovsk&#x27;,
        &#x27;Europe/Uzhgorod&#x27;,
        &#x27;Europe/Vienna&#x27;,
        &#x27;Europe/Vilnius&#x27;,
        &#x27;Europe/Volgograd&#x27;,
        &#x27;Europe/Warsaw&#x27;,
        &#x27;Europe/Zaporozhye&#x27;,
        &#x27;Europe/Zurich&#x27;,
        &#x27;Indian/Cocos&#x27;,
        &#x27;Indian/Chagos&#x27;,
        &#x27;Indian/Christmas&#x27;,
        &#x27;Indian/Kerguelen&#x27;,
        &#x27;Indian/Mahe&#x27;,
        &#x27;Indian/Maldives&#x27;,
        &#x27;Indian/Mauritius&#x27;,
        &#x27;Indian/Reunion&#x27;,
        &#x27;Pacific/Apia&#x27;,
        &#x27;Pacific/Auckland&#x27;,
        &#x27;Pacific/Bougainville&#x27;,
        &#x27;Pacific/Easter&#x27;,
        &#x27;Pacific/Efate&#x27;,
        &#x27;Pacific/Enderbury&#x27;,
        &#x27;Pacific/Fakaofo&#x27;,
        &#x27;Pacific/Fiji&#x27;,
        &#x27;Pacific/Funafuti&#x27;,
        &#x27;Pacific/Galapagos&#x27;,
        &#x27;Pacific/Gambier&#x27;,
        &#x27;Pacific/Guadalcanal&#x27;,
        &#x27;Pacific/Guam&#x27;,
        &#x27;Pacific/Honolulu&#x27;,
        &#x27;Pacific/Chatham&#x27;,
        &#x27;Pacific/Chuuk&#x27;,
        &#x27;Pacific/Kiritimati&#x27;,
        &#x27;Pacific/Kosrae&#x27;,
        &#x27;Pacific/Kwajalein&#x27;,
        &#x27;Pacific/Majuro&#x27;,
        &#x27;Pacific/Marquesas&#x27;,
        &#x27;Pacific/Nauru&#x27;,
        &#x27;Pacific/Niue&#x27;,
        &#x27;Pacific/Norfolk&#x27;,
        &#x27;Pacific/Noumea&#x27;,
        &#x27;Pacific/Pago_Pago&#x27;,
        &#x27;Pacific/Palau&#x27;,
        &#x27;Pacific/Pitcairn&#x27;,
        &#x27;Pacific/Pohnpei&#x27;,
        &#x27;Pacific/Port_Moresby&#x27;,
        &#x27;Pacific/Rarotonga&#x27;,
        &#x27;Pacific/Tahiti&#x27;,
        &#x27;Pacific/Tarawa&#x27;,
        &#x27;Pacific/Tongatapu&#x27;,
        &#x27;Pacific/Wake&#x27;,
        &#x27;Pacific/Wallis&#x27;
    ]);
    /**
     * This object stores offsets in &#x60;ary_ianna_time_zones&#x60; (keys) and one corresponding index.
     * 
     * So for exmple, &#x60;ary_ianna_time_offsets[&quot;CET&quot;]&#x60; is equal to **284** which is index of &#x60;ary_ianna_time_zones[284]===&#x27;Europe/Prague&#x27;&#x60; (in winter &quot;+01:00&quot; and in summer &quot;+02:00&quot;).
     * 
     * Next example is &#x60;ary_ianna_time_offsets[&quot;-01:00&quot;]&#x60; is equal to **238** which is index of &#x60;ary_ianna_time_zones[238]===&#x27;Atlantic/Cape_Verde&#x27;&#x60; (always &quot;-01:00&quot;).
     * 
     * **IMPORTANT NOTE:** BST, EET, WET hasn&#x27;t been validated! … idea is to behave the same way like CET
     * @property {Object} ary_ianna_time_offsets
     * @private
     * @for $time.{namespace}
     */
    const ary_ianna_time_offsets= Object.freeze({
        &#x27;-01:00&#x27;: 238,
        &#x27;-02:00&#x27;: 242,
        &#x27;-03:00&#x27;: 107,
        &#x27;-04:00&#x27;: 49,
        &#x27;-05:00&#x27;: 92,
        &#x27;-06:00&#x27;: 62,
        &#x27;-07:00&#x27;: 120,
        &#x27;-08:00&#x27;: 337,
        &#x27;-09:00&#x27;: 320,
        &#x27;-09:30&#x27;: 330,
        &#x27;-10:00&#x27;: 323,
        &#x27;-11:00&#x27;: 332,
        &#x27;+01:00&#x27;: 15,
        &#x27;+02:00&#x27;: 8,
        &#x27;+03:00&#x27;: 270,
        &#x27;+04:00&#x27;: 306,
        &#x27;+04:30&#x27;: 191,
        &#x27;+05:00&#x27;: 221,
        &#x27;+05:30&#x27;: 173,
        &#x27;+05:45&#x27;: 194,
        &#x27;+06:00&#x27;: 207,
        &#x27;+06:30&#x27;: 232,
        &#x27;+07:00&#x27;: 182,
        &#x27;+08:00&#x27;: 220,
        &#x27;+08:30&#x27;: 210,
        &#x27;+08:45&#x27;: 249,
        &#x27;+09:00&#x27;: 176,
        &#x27;+09:30&#x27;: 248,
        &#x27;+10:00&#x27;: 229,
        &#x27;+11:00&#x27;: 314,
        &#x27;+12:00&#x27;: 345,
        &#x27;+13:00&#x27;: 316,
        &#x27;+14:00&#x27;: 326,
        BST: 275,
        CET: 284,
        EET: 264,
        WET: 274
    });

    
    /**
     * Function generates &#x60;DateArray&#x60; from instance of &#x60;Date&#x60;.
     * @method fromDate
     * @for $time.{namespace}
     * @public
     * @param {Date} date_instance 
     *  - instance of &#x60;Date&#x60; class
     * @returns {DateArray}
     *  - See [toDateArray](#methods_toDateArray).
     */
    function fromDate(date_instance){
        return toDateArray(date_instance.toISOString());
    }
    /**
     * Function generates &#x60;DateArray&#x60; from arguments to initialize &#x60;Date&#x60;.
     * @method fromDateArguments
     * @for $time.{namespace}
     * @public
     * @param {...Mixed} args 
     *  - parameters for initialize &#x60;Date&#x60; class
     * @returns {DateArray}
     *  - See [toDateArray](#methods_toDateArray).
     */
    function fromDateArguments(...args){
        return toDateArray((args.filter(d=&gt; typeof d!==&quot;undefined&quot;).length ? new Date(...args) : new Date()).toISOString());
    }
    /**
     * Function generates &#x60;DateArray&#x60; from current date and time.
     * @method fromNow
     * @for $time.{namespace}
     * @public
     * @returns {DateArray}
     *  - See [toDateArray](#methods_toDateArray).
     */
    function fromNow(){
        return toDateArray((new Date()).toISOString());
    }
    /**
     * Function generates &#x60;DateArray&#x60; from passed string.
     * @method fromString
     * @for $time.{namespace}
     * @public
     * @param {String} timestamp_string 
     *  - Supported forms are combinations of date (&quot;YYYY-MM-DD&quot;, &quot;DD/MM/YYYY&quot;), time (&quot;HH:mm:ss&quot;, &quot;HH:mm&quot;) and timezone (&quot;CET&quot;, &quot;+01:00&quot;, &quot;-02:00&quot;, ...)
     *  - Typically: &quot;2019-06-02 12:35:45 +01:00&quot;, &quot;2019-06-02T12:35:45+01:00&quot;, &quot;12:35:45+01:00 2019-06-02&quot;, ...
     * @param {String} [timezone= internal_zone]
     *  - Override timezone in &#x60;timestamp_string&#x60;
     * @returns {DateArray}
     *  - See [toDateArray](#methods_toDateArray).
     */
    function fromString(timestamp_string, timezone= internal_zone){
        if(!timestamp_string) return fromNow();
        let date_array= toDateArray(timestamp_string);
        if(date_array.length!==3){
            if(!isDateString(date_array[0])) date_array.unshift(&quot;&quot;);
            else if(!isTimeString(date_array[1])){
                date_array[2]= timezone ? timezone : date_array[1];
                date_array[1]= &quot;&quot;;
            } else {
                date_array[2]= timezone ? timezone : &quot;&quot;;
            }
        } else if(timezone){ date_array[2]= timezone; }
        return date_array;
    }
    /**
     * Function generates array in a form &#x60;[ date, time, time_zone ]&#x60; from &#x27;ISO&#x27; like string.
     * @method toDateArray
     * @for $time.{namespace}
     * @private
     * @param {String} timestamp_string
     *  - Supported forms are combinations of date (&quot;YYYY-MM-DD&quot;, &quot;DD/MM/YYYY&quot;), time (&quot;HH:mm:ss&quot;, &quot;HH:mm&quot;) and timezone (&quot;CET&quot;, &quot;+01:00&quot;, &quot;-02:00&quot;, ...)
     *  - Typically: &quot;2019-06-02 12:35:45 +01:00&quot;, &quot;2019-06-02T12:35:45+01:00&quot;, &quot;12:35:45+01:00 2019-06-02&quot;, ...
     * @returns {DateArray}
     *  - &#x60;[ date, time, time_zone ]&#x60;
     *  - where:
     *      - &#x60;date&#x60; is always &quot;YYYY-MM-DD&quot; or &quot;&quot;
     *      - &#x60;time&#x60; is always &quot;HH:mm:SS&quot; or &quot;HH:mm:00&quot; or &quot;&quot;
     *      - &#x60;time_zone&#x60; is always &quot;[+-]\d\d:\d\d&quot; or &quot;CET&quot; or &quot;&quot;
     */
    function toDateArray(timestamp_string){
        let letter, counter= 0, acc= &quot;&quot;, substr_index, date= &quot;&quot;, time= &quot;&quot;, zone= &quot;&quot;;
        while(timestamp_string.length){
            letter= timestamp_string[0];
            if(/\d/.test(letter)){
                if(!timestamp_string.search(/\d\d\d\d-\d\d-\d\d/)){
                    date= timestamp_string.substr(0, 10);
                    timestamp_string= timestamp_string.substr(10);
                } else if(!timestamp_string.search(/\d\d\/\d\d\/\d\d\d\d/)){
                    date= timestamp_string.substr(0, 10).split(&quot;/&quot;).sort((_,k)=&gt; k).join(&quot;-&quot;);
                    timestamp_string= timestamp_string.substr(10);
                } else if(!timestamp_string.search(/\d\d:\d\d:\d\d/)){
                    time= &quot;T&quot;+timestamp_string.substr(0, 8);
                    timestamp_string= timestamp_string.substr(8);
                } else if(!timestamp_string.search(/\d\d:\d\d/)){
                    time= &quot;T&quot;+timestamp_string.substr(0, 5)+&quot;:00&quot;;
                    timestamp_string= timestamp_string.substr(5);
                } else {
                    timestamp_string= timestamp_string.substr(1);
                }
            } else if(/[ ,\._]/.test(letter)||/T\d/.test(letter)){
                timestamp_string= timestamp_string.substr(1);
            } else if(!timestamp_string.search(/[\+\-]\d\d:\d\d/)){
                acc= timestamp_string.substr(0, 6);
                timestamp_string= timestamp_string.substr(6);
                if(Reflect.has(ary_ianna_time_offsets, acc)){
                    zone= acc;
                    acc= &quot;&quot;;
                }
            } else if(!timestamp_string.search(/[A-Z]{2,}/)){
                substr_index= timestamp_string.search(/[^A-Z]/);
                acc= substr_index===-1 ? timestamp_string : timestamp_string.substr(0, substr_index);
                timestamp_string= timestamp_string.substr(acc.length);
                if(acc===&quot;CET&quot;){//Reflect.has(ary_ianna_time_offsets, acc)
                    zone= acc;
                    acc= &quot;&quot;;
                }
            } else if(letter===&quot;Z&quot;){
                zone= &quot;Z&quot;;
                timestamp_string= timestamp_string.substr(1);
            } else {
                timestamp_string= timestamp_string.substr(1);
            }
            counter+= 1; if(counter&gt;5 &amp;&amp; date&amp;&amp;time&amp;&amp;zone){ timestamp_string= &quot;&quot;; }
        }
        return [ date, time, zone ];
    }
    
    /**
     * Function generates text based on &#x60;format&#x60;, &#x60;locale&#x60; and &#x60;timeZone&#x60; from &#x60;DateArray&#x60;.
     * @method toStringFromObject
     * @for $time.{namespace}
     * @private
     * @param {Array} format
     *  - Placeholder for replace/generate final string (eg. [[ &quot;month&quot;, &quot;2-digits&quot; ]]===two digits month)
     *  - see [&#x60;getFormatObject&#x60;](#methods_getFormatObject) an [&#x60;format_arrays&#x60;](#props_format_arrays).
     * @param {DateArray} params_obj
     *  - It is in fact argument for [&#x60;Date.prototype.toLocaleString&#x60;](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString)
     * @param {String} params_obj.locale
     *  - In which language/national format generate final string
     * @param {String} params_obj.timeZone
     *  - Time zone name from [&#x60;ary_ianna_time_zones&#x60;](#props_ary_ianna_time_zones).
     * @param {String} params_obj.declension
     *  - **default: true**
     *  - Needed for some languages — for example in Czech: &quot;10. července&quot; (&#x60;declension=true&#x60;), or &quot;10. červenec&quot; (&#x60;declension=false&#x60;)
     * @returns {Function}
     *  - &#x60;DateArray&#x60;=&gt; **&amp;lt;String&amp;gt;**
     * @example
     *      $time.toStringFromObject(&quot;DD/MM/YYYY HH:mm:SS&quot;,{ locale: &quot;en-GB&quot; })($time.fromNow());//= &quot;05/06/2019 09:32:20&quot;
     */
    function toStringFromObject(format, { locale= internal_locale, declension= true, timeZone= internal_zone }= {}){
        if(!format) return date_array=&gt; date_array.join(&quot;&quot;);
        return date_array=&gt; format.map(evaluateFormatObject(toDate(date_array), locale, timeZone, declension)).join(&quot;&quot;);
    }
    function evaluateFormatObject(date, locale, timeZone, declension){
        const localeObj= generateTimeZoneFormatObject.bind(null, timeZone);
        return function([type, value, modify]){
            let out= evaluateNthFromObject(date, type, value, modify, declension, locale, localeObj);
            if(value===&quot;2-digit&quot;&amp;&amp;out.length===1) out= &quot;0&quot;+out; //fix
            if(modify===&quot;two_letters&quot;) out= out.substr(0,2);
            else if(modify===&quot;ordinal_number&quot;&amp;&amp;locale.indexOf(&quot;en&quot;)!==-1) out= getOrdinalSuffix(out);
            return out;
        };
    }
    function evaluateNthFromObject(date, type, value, modify, declension, locale, localeObj){
        switch (true){
            case type===&quot;text&quot;:                                     return value;
            case type===&quot;week&quot;:                                     return getWeekNumber(date);
            case type===&quot;weekday&quot;&amp;&amp;value===&quot;numeric&quot;:               return getWeekDay()(date);
            case type===&quot;month&quot;&amp;&amp;value===&quot;long&quot;&amp;&amp;declension:        return date.toLocaleString(locale,localeObj({ [type]: value, day: &quot;numeric&quot; })).replace(/[\d \.\/\\]/g, &quot;&quot;);
            case type===&quot;hour&quot;&amp;&amp;modify.toLowerCase()===&quot;a&quot;:         return date.toLocaleString(modify===&quot;A&quot; ? &quot;en-US&quot; : &quot;en-GB&quot;,localeObj({ [type]: value, hourCycle: &quot;h12&quot; })).replace(/[\d \.\/\\]/g, &quot;&quot;);
            case type===&quot;hour&quot;:                                     return date.toLocaleString(locale,localeObj({ [type]: value, hourCycle: modify })).replace(/[ \.\/\\pam]/ig, &quot;&quot;);
            default:                                                return date.toLocaleString(locale,localeObj({ [type]: value }));
        }
    }
    /**
     * Generates multidimensional array for formatting (eg. &quot;YYYY&quot;=&gt; &#x60;[ [ &quot;year&quot;, &quot;numeric&quot; ] ]&#x60;).
     * @method getFormatObject
     * @for $time.{namespace}
     * @private
     * @param {String} format_string
     *  - supports &quot;YYYY&quot;, &quot;YY&quot;, &quot;MM&quot;, &quot;MMM&quot;, &quot;MMMM&quot;, &quot;dddd&quot; (weekday - Monday), &quot;ddd&quot; (shorter weekday - Mon), &quot;dd&quot; (Mo), &quot;d&quot; (0===Sun &lt;&gt; 6===Sat), &quot;DD&quot;, &quot;D&quot;, &quot;Do&quot;, &quot;HH&quot;, &quot;H&quot;, &quot;mm&quot;, &quot;m&quot;, &quot;SS&quot;, &quot;S&quot;, &quot;W&quot;, &quot;Wo&quot;
     * @returns {...Array}
     *  - &#x60;[ [ operation, argument, params ] ]&#x60;
     *  - &#x60;Opertions&#x60; are in fact arguments for [&#x60;Date.prototype.toLocaleString&#x60;](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString) and &#x60;arguments&#x60; are their values.
     */
    function getFormatObject(format_string= &quot;&quot;){
        let out= [], out_last_index, letter;
        while(format_string.length){
            switch(format_string[0]){
                case &quot;M&quot;: handleM();                            break;
                case &quot;d&quot;: handled();                            break;
                case &quot;W&quot;: handleWD(&quot;week&quot;, &quot;W&quot;);                break;
                case &quot;Y&quot;: handleY();                            break;
                case &quot;D&quot;: handleWD(&quot;day&quot;, &quot;D&quot;);                 break;
                case &quot;H&quot;: handleHh(&quot;hour&quot;, &quot;H&quot;, &quot;h23&quot;);         break;
                case &quot;k&quot;: handleHh(&quot;hour&quot;, &quot;k&quot;, &quot;h24&quot;);         break;
                case &quot;h&quot;: handleHh(&quot;hour&quot;, &quot;h&quot;, &quot;h12&quot;);         break;
                case &quot;A&quot;: handleAa(&quot;A&quot;);                        break;
                case &quot;a&quot;: handleAa(&quot;a&quot;);                        break;
                case &quot;m&quot;: handle(&quot;minute&quot;, &quot;m&quot;);                break;
                case &quot;s&quot;: handle(&quot;second&quot;, &quot;s&quot;);                break;
                case &quot;[&quot;: handleText();                         break;
                default:
                    letter= format_string[0];
                    out_last_index= out.length-1;
                    if(out_last_index&gt;-1&amp;&amp;out[out_last_index][0]===&quot;text&quot;) out[out_last_index][1]+= letter;
                    else out.push([&quot;text&quot;, letter]);
                    format_string= format_string.substring(1);
            }
        }
        function handleM(){
            let type= &quot;numeric&quot;;
            if(!format_string.search(/MMMM/)){
                type= &quot;long&quot;;
                format_string= format_string.substring(4);
            } else if(!format_string.search(/MMM/)){
                type= &quot;short&quot;;
                format_string= format_string.substring(3);
            } else if(!format_string.search(/MM/)){
                type= &quot;2-digit&quot;;
                format_string= format_string.substring(2);
            } else if(!format_string.search(/Mo/)){
                format_string= format_string.substring(2);
                return out.push([&quot;month&quot;, type, &quot;ordinal_number&quot;]);
            } else {
                format_string= format_string.substring(1);
            }
            out.push([&quot;month&quot;, type]);
        }
        function handled(){
            let type= &quot;numeric&quot;;
            if(!format_string.search(/dddd/)){
                type= &quot;long&quot;;
                format_string= format_string.substring(4);
            } else if(!format_string.search(/ddd/)){
                type= &quot;short&quot;;
                format_string= format_string.substring(3);
            } else if(!format_string.search(/dd/)){
                type= &quot;short&quot;;
                format_string= format_string.substring(2);
                return out.push([&quot;weekday&quot;, type, &quot;two_letters&quot;]);
            } else {
                format_string= format_string.substring(1);
            }
            out.push([&quot;weekday&quot;, type]);
        }
        function handleY(){
            let type= &quot;2-digit&quot;;
            if(!format_string.search(/YYYY/)){
                type= &quot;numeric&quot;;
                format_string= format_string.substring(4);
            } else {
                format_string= format_string.substring(2);
            }
            out.push([&quot;year&quot;, type]);
        }
        function handleWD(out_key, letter){
            let type= &quot;numeric&quot;;
            if(!format_string.search(new RegExp(letter+&quot;o&quot;))){
                format_string= format_string.substring(2);
                return out.push([out_key, type, &quot;ordinal_number&quot;]);
            } else if(!format_string.search(new RegExp(letter+letter))){
                type= &quot;2-digit&quot;;
                format_string= format_string.substring(2);
            } else {
                format_string= format_string.substring(1);
            }
            out.push([out_key, type]);
        }
        function handleHh(out_key, letter, hourCycle){
            let type= &quot;numeric&quot;;
            if(!format_string.search(new RegExp(letter+letter))){
                type= &quot;2-digit&quot;;
                format_string= format_string.substring(2);
            } else {
                format_string= format_string.substring(1);
            }
            out.push([out_key, type, hourCycle]);
        }
        function handleAa(modify){
            format_string= format_string.substring(1);
            out.push([&quot;hour&quot;, &quot;numeric&quot;, modify]);
        }
        function handle(out_key, letter){
            let type= &quot;numeric&quot;;
            if(!format_string.search(new RegExp(letter+letter))){
                type= &quot;2-digit&quot;;
                format_string= format_string.substring(2);
            } else {
                format_string= format_string.substring(1);
            }
            out.push([out_key, type]);
        }
        function handleText(){
            const text_end= format_string.indexOf(&quot;]&quot;);
            if(text_end===-1){
                format_string= format_string.substring(1);
                return false;
            }
            out.push([&quot;text&quot;, format_string.substr(1,text_end-1)]);
            format_string= format_string.substr(text_end+1);
        }
        return out;
    }
    /**
     * Function initializes &#x60;Date&#x60; from &#x60;DateArray&#x60;.
     * @method toDate
     * @for $time.{namespace}
     * @public
     * @param {DateArray} date_array
     *  - See [toDateArray](#methods_toDateArray).
     * @returns {Date}
     */
    function toDate([ date, time, zone ]= []){
        if(!date) date= fromNow()[0];
        if(!time) time= &quot;T00:00:00&quot;;
        if(!zone) zone= getTimeZoneOffsetString(date);
        if(zone===&quot;CET&quot;) zone= getCETOffset([ date, time ]);
        return new Date(date+time+zone);
    }
    /**
     * It is wrapper arround [&#x60;Date.prototype.toLocaleString&#x60;](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString).
     * @method toLocaleString
     * @for $time.{namespace}
     * @public
     * @param {String} format_object_name
     *  - **Default: &#x60;&quot;date_time&quot;&#x60;**
     *  - name of predefined time/date combinations see [&#x60;format_objects&#x60;](#props_format_objects).
     * @param {Object} params
     *  - modificators for &#x60;Date.prototype.toLocaleString&#x60;
     * @param {String} params.locale
     *  - **Default: &#x60;internal_locale&#x60;**
     *  - see [&#x60;Date.prototype.toLocaleString&#x60; Parameters](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString#Parameters).
     * @param {String} params.timeZone
     *  - **Default: &#x60;internal_zone&#x60;**
     *  - sets &#x60;timeZone&#x60; key in &#x60;options&#x60; see [&#x60;Date.prototype.toLocaleString&#x60; Parameters](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString#Parameters).
     * @returns {Function}
     *  - **&#x60;date_array&#x60;&amp;lt;DateArray&amp;gt;&#x60;=&gt;&#x60; &amp;lt;String&amp;gt;**
     *  - returns result of [&#x60;Date.prototype.toLocaleString&#x60;](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString);
     */
    function toLocaleString(format_object_name= &quot;date_time&quot;, { locale= internal_locale, timeZone= internal_zone }= {}){
        return date_array=&gt; toDate(date_array).toLocaleString(locale, generateTimeZoneFormatObject(timeZone, format_objects[format_object_name]));
    }
    function toRelative(reference_date_array){
        return date_array=&gt; getRelative(getDiffMs(reference_date_array)(date_array));
    }
    
    function getDiff(reference_time, output_measure_string= &quot;seconds&quot;, full_precision= false){
        const c_measure= { seconds: 1000, minutes: 60000 /* 60*sec */, hours: 3600000 /* 60*mins */, days: 86400000 /* 24*days */, weeks: 604800000 /* 7*days */, months: 2419200000 /* 4*weeks */, years: 29030400000 /* 12*months */ };
        const diffFun= getDiffMs(reference_time, -c_measure[output_measure_string]);
        return function diff(target_time){
            const diff_val= diffFun(target_time);
            return full_precision ? diff_val : Math.floor(diff_val);
        };
    }
    function getDiffMs(reference_time, output_measure= 1){
        const reference_time_ms= reference_time ? toDate(reference_time).getTime() : false;
        return function diff(target_time){ return (toDate(target_time).getTime()-(reference_time_ms ? reference_time_ms : toDate(fromNow()).getTime()))/output_measure; };
    }
    function getRelative(ms_diff){
        const { abs, floor, round }= Math;
        const out_text= ms_diff &lt; 0 ? &quot;%s ago&quot; : &quot;in %s&quot;;
        ms_diff= abs(ms_diff);
        if(ms_diff&lt;1500) return &quot;now&quot;;
        ms_diff= floor(ms_diff/1000);
        if(ms_diff&lt;10) return out_text.replace(&quot;%s&quot;, &quot;a few seconds&quot;);
        if(ms_diff&lt;60) return out_text.replace(&quot;%s&quot;, ms_diff+&quot; seconds&quot;);
        ms_diff= floor(ms_diff/60);
        if(ms_diff===1) return out_text.replace(&quot;%s&quot;, &quot;a minute&quot;);
        if(ms_diff&lt;60) return out_text.replace(&quot;%s&quot;, ms_diff+&quot; minutes&quot;);
        ms_diff= round(ms_diff/60);
        if(ms_diff===1) return out_text.replace(&quot;%s&quot;, &quot;an hour&quot;);
        if(ms_diff&lt;24) return out_text.replace(&quot;%s&quot;, ms_diff+&quot; hours&quot;);
        ms_diff= ms_diff/24;
        if(round(ms_diff)===1) return out_text.replace(&quot;%s&quot;, &quot;a day&quot;);
        if(ms_diff&lt;29.5) return out_text.replace(&quot;%s&quot;, round(ms_diff)+&quot; days&quot;);
        ms_diff= ms_diff/30.41666; //avg per month
        if(round(ms_diff)===1) return out_text.replace(&quot;%s&quot;, &quot;a month&quot;);
        if(ms_diff&lt;12) return out_text.replace(&quot;%s&quot;, round(ms_diff)+&quot; months&quot;);
        ms_diff= round(ms_diff/12);
        if(ms_diff===1) return out_text.replace(&quot;%s&quot;, &quot;a year&quot;);
        return out_text.replace(&quot;%s&quot;, ms_diff+&quot; years&quot;);
    }
    /**
     * Function generates text based on &#x60;format_string&#x60;, &#x60;locale&#x60; and &#x60;timeZone&#x60; from &#x60;DateArray&#x60;.
     * @method toString
     * @for $time.{namespace}
     * @public
     * @param {String} format_string
     *  - Placeholder for replace/generate final string (eg. &quot;MM&quot;===two digits month)
     *  - see [&#x60;getFormatObject&#x60;](#methods_getFormatObject)
     * @param {DateArray} params_obj
     *  - It is in fact argument for [&#x60;Date.prototype.toLocaleString&#x60;](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString)
     * @param {String} params_obj.locale
     *  - In which language/national format generate final string
     * @param {String} params_obj.timeZone
     *  - Time zone name from [&#x60;ary_ianna_time_zones&#x60;](#props_ary_ianna_time_zones).
     * @param {String} params_obj.declension
     *  - **default: true**
     *  - Needed for some languages — for example in Czech: &quot;10. července&quot; (&#x60;declension=true&#x60;), or &quot;10. červenec&quot; (&#x60;declension=false&#x60;)
     * @returns {Function}
     *  - &#x60;DateArray&#x60;=&gt; **&amp;lt;String&amp;gt;**
     * @example
     *      $time.toStringFromObject(&quot;DD/MM/YYYY HH:mm:SS&quot;,{ locale: &quot;en-GB&quot; })($time.fromNow());//= &quot;05/06/2019 09:32:20&quot;
     */
    function toString(format_string, params_obj){
        return toStringFromObject(format_string ? getFormatObject(format_string) : false, params_obj);
    }
    /**
     * Similar to [&#x60;toString&#x60;](#methods_toString) generates string based on given format. But now based on existing predefined/cached formats see [&#x60;format_arrays&#x60;](#props_format_arrays).
     * @method toStringPreDefined
     * @for $time.{namespace}
     * @public
     * @param {String} format_name
     *  - **Default: &#x60;&quot;YMDHms_2d&quot;&#x60;**
     *  - See [&#x60;format_arrays&#x60;](#props_format_arrays).
     * @param {DateArray} params_obj
     *  - See [&#x60;toStringFromObject&#x60;](#methods_toStringFromObject).
     * @returns {Function}
     *  - **&#x60;date_array&#x60;&amp;lt;DateArray&amp;gt;=&gt; &amp;lt;String&amp;gt;**
     * @example
     *      $time.toStringPreDefined(&quot;YMDHms_2d&quot;, { locale: &quot;en-GB&quot; })($time.fromNow());//= &quot;2019-06-05 09:32:20&quot;
     */
    function toStringPreDefined(format_name= &quot;YMDHms_2d&quot;, params_obj= {}){
        return toStringFromObject(format_arrays[format_name], params_obj);
    }
    /* to_functions/toRelative *//* global getDiff, getRelative *///gulp.remove.line
    
    function getCETOffset([ date, time ]= []){
        if(!date||!time){
            let curr= fromNow();
            if(!date) date= curr[0];
            if(!time) time= curr[1].replace(/\.\d+/, &quot;&quot;);
        }
        const /* repeting things for getting nexts consts group (line 1), for comparing in return (line 2) */
            timeZone= &quot;Europe/Prague&quot;, locale= &quot;en-GB&quot;, date_and_time= date+time,
            en_date_version= date.split(&quot;-&quot;).reverse().join(&quot;/&quot;)+&quot;, &quot;+time.replace(&quot;T&quot;, &quot;&quot;);
        const /* for comparing in return */
            [ date_one_hour, date_two_hours ]= [ &quot;+01:00&quot;, &quot;+02:00&quot; ].map(offset=&gt; new Date(date_and_time+offset).toLocaleString(locale, { timeZone }));
        return en_date_version===date_one_hour ? &quot;+01:00&quot; : en_date_version===date_two_hours ? &quot;+02:00&quot; : &quot;Z&quot;;
    }
    function getTimeZone(date, { locale= internal_locale, description= &quot;long&quot;, offset= false }= {}){
        const date_instance= getDateInstaneFromDateArrayOrString(date);
        let out_description= description===&quot;none&quot; ? &quot;&quot; : date_instance.toLocaleString(locale, { timeZoneName: description }).replace(date_instance.toLocaleString(locale), &quot;&quot;).trim();
        const out_offset= !offset ? &quot;&quot; : &quot;UTC&quot;+getTimeZoneOffsetStringFromOffset(date_instance.getTimezoneOffset());
        if(out_description&amp;&amp;out_offset) out_description= &quot; (&quot;+out_description+&quot;)&quot;;
        return out_offset+out_description;
    }
    function getTimeZoneOffset(date){
        return getDateInstaneFromDateArrayOrString(date).getTimezoneOffset();
    }
    function getTimeZoneOffsetString(date){
         return getTimeZoneOffsetStringFromOffset(getTimeZoneOffset(date));
    }
    function generateTimeZoneFormatObject(timeZone, format_object){
        if(!timeZone) return format_object;
        if(ary_ianna_time_zones.indexOf(timeZone)!==-1) return Object.assign({ timeZone }, format_object);
        if(typeof ary_ianna_time_offsets[timeZone]!==&quot;undefined&quot;) return Object.assign({ timeZone: ary_ianna_time_zones[ary_ianna_time_offsets[timeZone]] }, format_object);
        return format_object;
    }
    function getDateInstaneFromDateArrayOrString(date_string){
        if(!date_string) return new Date();
        if(!Array.isArray(date_string)) date_string= toDateArray(date_string);
        return new Date(...date_string[0].split(&quot;-&quot;).map((v,k)=&gt; k===1 ? +v-1 : +v));
    }
    function getTimeZoneOffsetStringFromOffset(offset){
        const { floor, abs }= Math;
        let out= offset &gt; 0 ? &quot;-&quot; : &quot;+&quot;;
        offset= abs(offset);
        out+= double(floor(offset/60))+&quot;:&quot;+double(offset%60);
        return out;
    }
    
    function addDays(days_num){
        return date_instance=&gt; (date_instance.setDate(date_instance.getDate()+days_num), date_instance);
    }
    function addMonths(monthss_num){
        return date_instance=&gt; (date_instance.setMonth(date_instance.getMonth()+monthss_num), date_instance);
    }
    function getWeekDay(type= &quot;numeric&quot;, { locale= internal_locale, timeZone= internal_zone }= {}){
        return type===&quot;numeric&quot; ? date_instance=&gt; date_instance.getDay() : date_instance=&gt; date_instance.toLocaleString(locale, { weekday: type });
    }
    function getWeekNumber(date_instance){ /* calculates no. of thursdays from this week to the first one (January 4 is always in week 1.) */
        const tdt= new Date(date_instance.valueOf());
        tdt.setDate(tdt.getDate() + 3 - (date_instance.getDay() + 6) % 7);
        var firstThursday = tdt.valueOf();
        tdt.setMonth(0, 1);
        if(tdt.getDay() !== 4){
            tdt.setMonth(0, 1 + ((4 - tdt.getDay()) + 7) % 7);
        }
        return 1 + Math.ceil((firstThursday - tdt) / 604800000);
    }
    /**
     * @method modify
     * @for $time.{namespace}
     * @public
     * @param {Object} mod_obj
     *  - object literal representing requested operations
     *  - use name convention like [setters for &#x60;Date&#x60;](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date#Setter) (only one argument is allowed)
     *  - supports also *add\** commands with the same notation (&quot;setMonth&quot; =&gt; &quot;addMonth&quot;)
     *  - **IMPORTANT NOTE:** There are three behaviour changes
     *      - &quot;setMonth&quot; is indexed from 1 (instead of 0)
     *      - for &quot;setDate&quot; there is alias &quot;setDay&quot;
     *      - for &quot;addDate&quot; there is alias &quot;addDays&quot;
     *  - Some operations: **&quot;\*Date&quot;** (or **&quot;setDay&quot;**, **&quot;addDays&quot;**), **&quot;\*Month&quot;**, **&quot;\*FullYear&quot;**, **&quot;\*Hours&quot;**, **&quot;\*Minutes&quot;**, **&quot;\*Seconds&quot;**
     * @returns {DateArray}
     *  - See [toDateArray](#methods_toDateArray).
     */
    function modify(mod_obj){
        const operations= Object.keys(mod_obj);
        return function(date_array){
            const dateObject= toDate(date_array);
            for(let i=0, operation; ( operation= operations[i] ); i++){
                if(operation===&quot;addDays&quot;) addDays(mod_obj[operation])(dateObject);
                else if(operation.substr(0,3)===&quot;add&quot;) modifyAdditions(operation, mod_obj[operation], dateObject);
                else if(operation===&quot;setMonth&quot;) dateObject.setMonth(mod_obj[operation]-1);
                else if(Reflect.has(dateObject, operation)) dateObject[operation](mod_obj[operation]);
                else if(operation===&quot;setDay&quot;) dateObject.setDate(mod_obj[operation]);
            }
            return fromDate(dateObject);
        };
    }
    /**
     * Helper method for invoking &quot;add*&quot; operations in [&#x60;modify&#x60;](#methods_modify).
     * 
     * In general &#x60;d.set...(d.get...+${value})&#x60; (where &#x60;d&#x60; is instance of &#x60;Date&#x60;).
     * @method modifyAdditions
     * @for $time.{namespace}
     * @private
     * @param {String} operation
     *  - e.g. &quot;addMonth&quot;
     * @param {Number} value
     *  - mainly argument (number) for 
     * @param {Date} dateObject
     *  - instance of &#x60;Date&#x60;
     * @returns {Date}
     *  - returns &#x60;dateObject&#x60;
     */
    function modifyAdditions(operation, value, dateObject){
        const cmd= operation.substr(3); /* addMonth=&gt; ...Month =&gt; (set/get)Month */
        dateObject[&quot;set&quot;+cmd](dateObject[&quot;get&quot;+cmd]()+value);
        return dateObject;
    }
    function setTimeZone(zone= internal_zone){
        return ([ date= &quot;&quot;, time= &quot;&quot; ]= [])=&gt; [ date, time, zone ];
    }
    
    /**
    * Function adds leading zero to the &#x60;time&#x60;. [It can be replaced in future: see &#x60;padStart&#x60;](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padStart)
    * @method double
    * @for $time.{namespace}
    * @public
    * @param {Number|String} time
    * @return {String}
    *  * 00, 01, 02, ..., 09, 10, ..., 100, ...
    */
    function double(n){
        n= String(n);
        return n.length===1 ? &quot;0&quot;+n : n;
    }
    /**
     * Returns number of days in given month (and year)
     * @method daysInMonth
     * @for $time.{namespace}
     * @public
     * @param {String|Number} month
     *  - ISO number of month (eg 01 or 1 for January)
     * @param {String|Number} year
     *  - **Default: current year**
     *  - ISO nimber of year (eg. 2019)
     * @returns {Number}
     *  - total of days
     */
    function daysInMonth(month, year= (new Date()).getFullYear()){/* months indexing from 0 */
        return new Date(+year, +month, 0 /* last in prev month */).getDate();
    }
    /**
     * Returns number of days in given month
     * @method getDaysInMonth
     * @for $time.{namespace}
     * @public
     * @param {DateArray} date_array
     *  - **Default: current date**
     *  - see [&#x60;toDateArray&#x60;](#methods_toDateArray)
     * @returns {Number}
     *  - total of days
     */
    function getDaysInMonth([ date= fromNow()[0] ]= []){
        const [ _, month, year ]= date.split(&quot;-&quot;).map(Number);
        return daysInMonth(month, year);
    }
    /**
    * @method getMonthName
    * @for $time.{namespace}
    * @public
    * @param {Number} n
    *  * Month number (typically [1-12])
    *  * Works cyclically &#x60;13===1, ...&#x60;
    * @param {Number|Boolean} [l=undefined]
    *  * Length of output Month name
    * @return {String}
    *  * English month name
    * @example
    *     console.log($time.getMonthName(5));//&quot;May&quot;
    *     console.log($time.getMonthName(24, 4));//&quot;Dece&quot;
    */
    function getMonthName(n,l) {
        if(typeof n!==&quot;number&quot;) n= parseInt(n);
        if(isNaN(n)) return false;
        let s= [&quot;December&quot;,&quot;January&quot;,&quot;February&quot;,&quot;March&quot;,&quot;April&quot;,&quot;May&quot;,&quot;June&quot;, &quot;July&quot;,&quot;August&quot;,&quot;September&quot;,&quot;October&quot;,&quot;November&quot;];
        let v= s[n%12];
        if(l){
            if(l===-1){l=3; if(v.length===4) l=4;}
            v= v.substring(0,l);
        }
        return v;
    }
    /**
     * See [&#x60;ordinal_numbers&#x60;](#props_ordinal_numbers).
     * @method getOrdinalSuffix
     * @for $time.{namespace}
     * @public
     * @param {Number} n
     * @return {String}
     *  * &#x60;n&#x60;+English suffix
     * @example
     *     console.log($time.getOrdinalSuffix(1));//&quot;1st&quot;
     */
    function getOrdinalSuffix(n_orig) {
        const n= typeof n_orig===&quot;number&quot; ? n_orig : parseInt(n_orig);
        if(isNaN(n)) return n_orig;
        let v= n%100;
        return n_orig+(ordinal_numbers[(v-20)%10]||ordinal_numbers[v]||ordinal_numbers[0]);
    }
    
    return {
        /**
         * Alias for &#x60;undefined&#x60; which can be used to trigger default value of argument. (eg. &#x60;test($time._)===&quot;A&quot;; function test(a= &quot;A&quot;){ return a; }&#x60;)
         * @property {undefined} _
         * @public
         */
        _: undefined,
    
        fromNow, fromString, fromDate, fromDateArguments,
    
        toDate, toString, toStringPreDefined, toLocaleString, toRelative,
    
        getDiff, getRelative,
        getCETOffset, getTimeZoneOffset, getTimeZoneOffsetString, getTimeZone,
    
        Date: { getWeekDay, getWeekNumber, addDays, addMonths },
        setTimeZone, modify,
    
        /* backward compatibility */ double, getOrdinalSuffix, getMonthName,
        getDaysInMonth, daysInMonth,
    
        getTimeZones: ()=&gt; ary_ianna_time_zones, isTimeZone: candidate=&gt; ary_ianna_time_zones.indexOf(candidate)!==-1,
        setInternalZone: zone=&gt; internal_zone= zone, setInternalLocale: locale=&gt; internal_locale= locale
    };
})();
</pre>

</div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>

</body>
</html>
