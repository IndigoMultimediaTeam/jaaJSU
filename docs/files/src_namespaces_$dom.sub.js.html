<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Documentation: jaaJSU@0.3.4</title>
    <link rel="stylesheet" href="../assets/from_yahhoapis/cssgrids-min.css">
<link rel="stylesheet" href="http://yui.yahooapis.com/3.8.0pr2/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <script src="../assets/from_yahhoapis/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            <h1><a href="../index.html"><img src="../assets/css/logo.png" width="117" height="52">jaaJSU</a>: src/namespaces/$dom.sub.js</h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.3.4</em>
        </div>
    </div>
    <div class="yui3-g">

        <div id="sidebar" class="yui3-u">
            <div id="modules" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Modules</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="../modules/jaaJSU.{global}.html">jaaJSU.{global}</a>
                            </li>
                    </ul>
                </div>
            </div>
            
            <div id="classes" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Classes</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="../classes/$array.{namespace}.html">$array.{namespace}</a></li>
                            <li><a href="../classes/$async.{namespace}.html">$async.{namespace}</a></li>
                            <li><a href="../classes/$dom.component.html">$dom.component</a></li>
                            <li><a href="../classes/$dom.component [cordova].html">$dom.component [cordova]</a></li>
                            <li><a href="../classes/$dom.{namespace}.html">$dom.{namespace}</a></li>
                            <li><a href="../classes/$function.{namespace}.html">$function.{namespace}</a></li>
                            <li><a href="../classes/$object.{namespace}.html">$object.{namespace}</a></li>
                            <li><a href="../classes/$optimizier.{namespace}.html">$optimizier.{namespace}</a></li>
                            <li><a href="../classes/$string.{namespace}.html">$string.{namespace}</a></li>
                            <li><a href="../classes/$time.{namespace}.html">$time.{namespace}</a></li>
                    </ul>
                </div>
            </div>
            
            <div id="elements" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Elements</h2>
                </div>
                <div class="bd">
                    <ul>
                    </ul>
                </div>
            </div>
            
            
            
            
            
            <div id="fileTree" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Files</h2>
                </div>
                <div class="bd">
                    <ul><li>src/<ul><li><a href="../files/src_jaaJSU.js.html">jaaJSU.js</a></li><li>namespaces/<ul><li><a href="../files/src_namespaces_$array.sub.js.html">$array.sub.js</a></li><li><a href="../files/src_namespaces_$async.sub.js.html">$async.sub.js</a></li><li><a href="../files/src_namespaces_$dom.sub.js.html">$dom.sub.js</a></li><li><a href="../files/src_namespaces_$function.sub.js.html">$function.sub.js</a></li><li><a href="../files/src_namespaces_$object.sub.js.html">$object.sub.js</a></li><li><a href="../files/src_namespaces_$optimizier.sub.js.html">$optimizier.sub.js</a></li><li><a href="../files/src_namespaces_$string.sub.js.html">$string.sub.js</a></li><li><a href="../files/src_namespaces_$time.sub.js.html">$time.sub.js</a></li></ul></li><li>special_functions/<ul><li><a href="../files/src_special_functions_$dom_add_helpers_cordova.sub.js.html">$dom_add_helpers_cordova.sub.js</a></li><li><a href="../files/src_special_functions_$dom_add_helpers_standalone.sub.js.html">$dom_add_helpers_standalone.sub.js</a></li><li><a href="../files/src_special_functions_$dom_forceRedraw_cordova.sub.js.html">$dom_forceRedraw_cordova.sub.js</a></li><li><a href="../files/src_special_functions_$dom_forceRedraw_standalone.sub.js.html">$dom_forceRedraw_standalone.sub.js</a></li></ul></li></ul></li></ul>
                </div>
            </div>
            
        </div>

        <div id="main" class="yui3-u">
            <div class="content"><h4>src/namespaces/$dom.sub.js</h4>

<pre class="code prettyprint linenums">
/* jshint esversion: 6,-W097, -W040, browser: true, expr: true, undef: true */
gulp_place(&quot;global.sub.js&quot;, &quot;file_once&quot;);/* global gulp_place, __eachInArrayLike, __eachInArrayLikeDynamic, __eachBind, export_as */
/**
 * This NAMESPACE provides features for DOM elemnts.
 * @class $dom.{namespace}
 * @static
 */
var $dom={
    /* tF_
    * Zajistuje volani .then, az je DOM dostupny
    * ...
    * parametry:
    *  tNN ~= argumenty jsou do .then predavany jako pole,
    *      resp. pokud je jen jeden, je predan primo.
    * .then:
    *  tNN_= zadane parametry, viz vyse
    *  */
   /**
    * Calls &#x60;.then&#x60; when the DOM is ready
    * @method ready_
    * @param {Mixed} ...args
    *  * As params for &#x60;.then&#x60;
    * @return {Promise}
    *  * &#x60;.then&#x60;
    *      * &#x60;&lt;= ...args&#x60; **\&lt;Mixed\&gt;**
    */
    ready_: function(...args){
        return new Promise(function(resolve) {
            function checkState() {
                if(document.readyState!==&#x27;loading&#x27;){
                    document.removeEventListener(&#x27;readystatechange&#x27;, checkState);
                    resolve(...args);
                }
            }
            if(document.readyState!==&#x27;loading&#x27;) resolve(...args);
            else document.addEventListener(&#x27;readystatechange&#x27;, checkState);
        });
    },
   /**
    * Calls &#x60;.then&#x60; when the DOM element is available/reday (uses &#x60;requestAnimationFrame&#x60;)
    * @method elementReady_
    * @param {Object} el_selector
    *  * &#x60;el_selector.*&#x60;
    *      * Key is name of &quot;selection&quot; function (&#x27;querySelector, ..., getElementsByClassname, ...)
    *      * Value is argument for selection function
    *  * example: &#x60;{getElementsByClassname: &quot;class_name&quot;}&#x60;
    * @param {DOMElement} [parent=document]
    *  * Where to search &#x60;el_selector&#x60;
    * @return {Promise}
    *  * &#x60;.then&#x60;
    *      * Calls when &#x60;el&#x60; (see next line) ready
    *      * &#x60;&lt;= el&#x60; **\&lt;Node\&gt;**: is DOM element based on &#x60;parent&#x60; and &#x60;el_selector&#x60; (&#x60;el= parent[el_selector[Object.keys(el_selector)[0]]](el_selector[el_selector[Object.keys(el_selector)[0]]])&#x60;)
    */
    elementReady_: function(el_selector, parent= document){
        const sel_key= Object.keys(el_selector)[0];
        const sel_val= el_selector[sel_key];
        return new Promise(function(resolve, reject){
            function check(){
                const el= parent[sel_key](sel_val);
                if(el) resolve(el);
                else requestAnimationFrame(check); //...zajistuje cyklus
            }
            requestAnimationFrame(check);
        });
    },
    /**
     * Procedure remove children of given element &#x60;container&#x60;.
     * @method empty
     * @param {NodeElement} container Remove all its children
     */
    empty: function(container){
        let len = container.childNodes.length;
        while(len--){ container.removeChild(container.lastChild); }
    },
    /**
     * Procedure places &#x60;new_element&#x60; after &#x60;reference&#x60; elements
     * @method insertAfter
     * @param {NodeElement} new_element
     * @param {NodeElement} reference
     */
    insertAfter: function(new_element, reference){
        const { parentNode, nextSibling }= reference;
        if(nextSibling) parentNode.insertBefore(new_element, nextSibling);
        else parentNode.appendChild(new_element);
    },
   /**
    * Remove elements in given {NodeList} or {HTMLCollection}
    * @method removeElements
    * @param {NodeList|HTMLCollection} els_to_delete
    *  * Array(-like) object of elements
    * @param {Number} [from_index=0]
    *  * Params allowing skip elements in &#x60;els_to_delete&#x60;
    * @param {Number} [to_index=els_to_delete.lenght]
    *  * Params allowing skip elements in &#x60;els_to_delete&#x60;
    */
    removeElements: function(els_to_delete,from_index,to_index){
        from_index= from_index || 0;
        to_index= to_index || els_to_delete.length;
        let els_array= [];
        let j= 0;
        for(let i= from_index; i &lt; to_index; i++){els_array[j++]= els_to_delete[i];}
        for(let i= 0, i_length= els_array.length; i &lt; i_length; i++){els_array[i].remove();}
    },
    /**
     * Procedure replaces &#x60;el_old&#x60; element by new one (&#x60;new_el&#x60;)
     * @method replace
     * @param {NodeElement} el_old
     * @param {NodeElement} el_new
     */
    replace: function(el_old, el_new){
        $dom.insertAfter(el_new, el_old);
        el_old.remove();
    },
    /**
     * Alias for &#x60;element.setAttribute(attribute_name, element.getAttribute(attribute_name) === attribute_a ? attribute_b : attribute_a)&#x60;
     * @method toggleAttribute
     * @param {NodeElement} element
     *  * Element target
     * @param {String} attribute_name
     *  * Name of attribute
     * @param {String} attribute_a
     *  * Value of attribute
     * @param {String} attribute_b
     *  * Value of attribute
     * @return {String}
     *  * &#x60;attribute_a&#x60; or &#x60;attribute_b&#x60;
     */
    toggleAttribute: function(element, attribute_name, attribute_a, attribute_b){
        const attribute_new= element.getAttribute(attribute_name) === attribute_a ? attribute_b : attribute_a;
        element.setAttribute(attribute_name, attribute_new);
        return attribute_new;
    },
    /**
     * Alias for &#x60;element.dataset[data_name]= element.dataset[data_name] === data_a ? data_b : data_a&#x60;
     * @method toggleDataset
     * @param {NodeElement} element
     *  * Element target
     * @param {String} data_name
     *  * Name of dataset key
     * @param {String} data_a
     *  * Name of dataset value
     * @param {String} data_b
     *  * Name of dataset
     * @return {String}
     *  * &#x60;data_a&#x60; or &#x60;data_b&#x60;
     */
    toggleDataset: function(element, data_name, data_a, data_b){
        return ( element.dataset[data_name]= element.dataset[data_name] === data_a ? data_b : data_a );
    },
    /**
     * Procedure for iterating throught NodeList &#x60;iterable&#x60;.
     * @method each
     * @param {...Mixed} iterable
     *  * An array-like object for iterating.
     * @param {Function} i_function
     *  * This procedure is called for each element in &#x60;iterable&#x60; Array.
     *  * &#x60;i_function(o: Object)&#x60;
     *      * &#x60;item&#x60; Mixed: Nth value for &#x60;key&#x60; in &#x60;iterable&#x60;.
     *      * &#x60;key&#x60; Number: Idicies 0...&#x60;Object.keys(iterable).length&#x60;.
     *      * &#x60;last&#x60; Boolean: Is setted True, if it is the last element in array.
     *      * &#x60;share&#x60; Mixed|undefined: shared variable - works similar to &#x60;*.reduce&#x60; method
     * @param {Object|undefined} scope
     *  * An argument for &#x60;i_function.call(*,...)&#x60;
     * @return {Mixed}
     *  * &#x60;share&#x60;
     */
    each: __eachInArrayLike,
    eachFun: __eachBind(__eachInArrayLike),
    /**
     * Procedure for iterating throught NodeList &#x60;iterable&#x60; like [each](#methods_each), but use &#x60;for(...;(item= iterable[i]);i++)...&#x60;.
     * @method eachDynamic
     * @param {...Mixed} iterable
     *  * An array-like object for iterating.
     * @param {Function} i_function
     *  * This procedure is called for each element in &#x60;iterable&#x60; Array.
     *  * &#x60;i_function(o: Object)&#x60;
     *      * &#x60;item&#x60; Mixed: Nth value for &#x60;key&#x60; in &#x60;iterable&#x60;.
     *      * &#x60;key&#x60; Number: Idicies 0...&#x60;Object.keys(iterable).length&#x60;.
     *      * &#x60;last&#x60; Boolean: Is setted True, if it is the last element in array.
     *      * &#x60;share&#x60; Mixed|undefined: shared variable - works similar to &#x60;*.reduce&#x60; method
     * @param {Object|undefined} scope
     *  * An argument for &#x60;i_function.call(*,...)&#x60;
     * @return {Mixed}
     *  * &#x60;share&#x60;
     */
    eachDynamic: __eachInArrayLikeDynamic,
    eachDynamicFun: __eachBind(__eachInArrayLikeDynamic)
};
gulp_place(&quot;special_functions/$dom_add_helpers_${app.standalone}.sub.js&quot;);
gulp_place(&quot;special_functions/$dom_forceRedraw_${app.standalone}.sub.js&quot;);
export_as($dom, gulp_place(&quot;namespaces.$dom&quot;, &quot;variable&quot;));
</pre>

</div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>

</body>
</html>
